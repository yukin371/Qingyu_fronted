# 错误码参考手册

> **版本**: v1.0
> **最后更新**: 2025-01-14

## 目录

- [错误码体系说明](#错误码体系说明)
- [通用错误码 (1000-1999)](#通用错误码-1000-1999)
- [认证模块错误码 (2000-2999)](#认证模块错误码-2000-2999)
- [书城模块错误码 (3000-3999)](#书城模块错误码-3000-3999)
- [阅读器模块错误码 (4000-4999)](#阅读器模块错误码-4000-4999)
- [写作模块错误码 (5000-5999)](#写作模块错误码-5000-5999)
- [用户模块错误码 (6000-6999)](#用户模块错误码-6000-6999)
- [社交模块错误码 (7000-7999)](#社交模块错误码-7000-7999)

---

## 错误码体系说明

### 编码规则

**格式**: `[模块码][类别码][具体码]` (4位数字)

#### 模块码

| 模块码 | 模块名称 | 错误码范围 |
|--------|---------|-----------|
| 0 | 成功 | 0000 |
| 1 | 通用/基础 | 1000-1999 |
| 2 | 认证授权 | 2000-2999 |
| 3 | 书城模块 | 3000-3999 |
| 4 | 阅读器模块 | 4000-4999 |
| 5 | 写作模块 | 5000-5999 |
| 6 | 用户模块 | 6000-6999 |
| 7 | 社交模块 | 7000-7999 |

#### 类别码

| 类别码 | 类别名称 | 说明 |
|--------|---------|------|
| 0 | 成功 | 操作成功 |
| 1 | 参数错误 | 请求参数格式或值不正确 |
| 2 | 权限错误 | 认证或授权相关错误 |
| 3 | 资源不存在 | 请求的资源未找到 |
| 4 | 业务逻辑错误 | 业务规则限制 |
| 5 | 系统错误 | 服务器内部错误 |

### 错误响应格式

所有错误响应遵循统一格式：

```json
{
  "code": 2003,
  "message": "用户名或密码错误",
  "error": "LOGIN_FAILED",
  "details": {
    "remaining_attempts": 3,
    "lock_time": null
  },
  "timestamp": "2025-01-14T10:30:00Z"
}
```

| 字段 | 类型 | 说明 |
|------|------|------|
| code | number | 错误码 |
| message | string | 错误描述（用户可见） |
| error | string | 错误类型（程序用） |
| details | object | 错误详情（可选） |
| timestamp | string | 时间戳（ISO 8601） |

---

## 通用错误码 (1000-1999)

### 成功响应

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 0000 | 200 | SUCCESS | "操作成功" | 请求成功处理 | - |

### 参数错误 (1100-1199)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 1001 | 400 | INVALID_PARAM | "参数错误" | 请求参数格式或值不正确 | 检查请求参数，提示用户重新输入 |
| 1002 | 400 | MISSING_PARAM | "缺少必需参数" | 缺少必填的请求参数 | 补充缺失参数 |

### 认证错误 (1200-1299)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 1003 | 401 | UNAUTHORIZED | "未授权访问" | 未提供有效认证信息 | 跳转登录页面 |
| 1004 | 403 | FORBIDDEN | "无权访问" | 认证成功但无权限访问 | 提示权限不足，返回上一页 |

### 资源错误 (1300-1399)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 1005 | 404 | NOT_FOUND | "资源不存在" | 请求的资源不存在 | 返回上一页或404页面 |
| 1006 | 409 | CONFLICT | "资源冲突" | 资源已存在或状态冲突 | 提示用户冲突原因 |

### 系统错误 (1500-1599)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 1007 | 429 | RATE_LIMIT | "请求过于频繁" | 超过速率限制 | 稍后重试 |
| 1008 | 500 | INTERNAL_ERROR | "服务器内部错误" | 服务器处理异常 | 提示稍后重试或联系客服 |
| 1009 | 503 | SERVICE_UNAVAILABLE | "服务暂时不可用" | 服务维护或过载 | 提示稍后重试 |

---

## 认证模块错误码 (2000-2999)

### 参数验证错误 (2100-2199)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 2001 | 400 | INVALID_USERNAME | "用户名格式错误" | 用户名不符合3-20字符规则 | 提示用户名格式要求（3-20字符，字母数字下划线） |
| 2002 | 400 | WEAK_PASSWORD | "密码强度不足" | 密码不符合安全要求 | 提示密码强度要求（至少6位，包含字母和数字） |
| 2010 | 400 | CAPTCHA_ERROR | "验证码错误" | 验证码不正确或已过期 | 刷新验证码，重试 |

### 登录认证错误 (2200-2299)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 2003 | 401 | LOGIN_FAILED | "用户名或密码错误" | 登录凭证不正确 | 提示还剩N次机会，超过N次锁定账号 |
| 2004 | 403 | ACCOUNT_LOCKED | "账号已被锁定" | 账号因多次错误被锁定 | 提示解锁方式（联系客服或等待N分钟） |
| 2005 | 401 | TOKEN_EXPIRED | "登录已过期" | Token已过期 | 引导重新登录，清除本地token |
| 2006 | 401 | TOKEN_INVALID | "登录信息无效" | Token格式错误或已失效 | 清除本地token，重新登录 |

### 权限错误 (2300-2399)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 2007 | 403 | PERMISSION_DENIED | "权限不足" | 无操作权限 | 提示需要更高权限角色 |

### 注册冲突错误 (2400-2499)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 2008 | 409 | USERNAME_EXISTS | "用户名已存在" | 注册时用户名重复 | 提示更换用户名 |
| 2009 | 409 | EMAIL_EXISTS | "邮箱已被使用" | 注册时邮箱重复 | 提示更换邮箱或找回密码 |

---

## 书城模块错误码 (3000-3999)

### 书籍相关错误 (3100-3199)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 3001 | 404 | BOOK_NOT_FOUND | "书籍不存在" | 指定书籍ID不存在 | 返回书籍列表或推荐其他书籍 |
| 3005 | 400 | INVALID_BOOK_ID | "书籍ID格式错误" | 书籍ID格式不正确 | 检查路由参数 |

### 章节相关错误 (3200-3299)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 3002 | 404 | CHAPTER_NOT_FOUND | "章节不存在" | 指定章节不存在 | 返回目录或上一章 |
| 3003 | 403 | CHAPTER_LOCKED | "章节未解锁" | 需要付费或订阅才能阅读 | 引导购买或订阅，显示解锁弹窗 |
| 3004 | 403 | BOOK_NOT_PURCHASED | "未购买本书" | 需要购买才能阅读 | 引导购买 |

### 分类和搜索错误 (3300-3399)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 3010 | 404 | CATEGORY_NOT_FOUND | "分类不存在" | 指定分类不存在 | 返回分类列表 |
| 3011 | 400 | SEARCH_KEYWORD_TOO_SHORT | "搜索关键词过短" | 搜索关键词少于2个字符 | 提示输入更多关键词 |
| 3012 | 400 | SEARCH_RESULT_EMPTY | "未找到相关内容" | 搜索无结果 | 提示更换关键词或浏览推荐 |

---

## 阅读器模块错误码 (4000-4999)

### 章节阅读错误 (4100-4199)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 4001 | 404 | CHAPTER_NOT_FOUND | "章节不存在" | 指定章节不存在 | 返回目录或上一章 |
| 4002 | 403 | CHAPTER_LOCKED | "章节未解锁" | 章节需要付费或VIP | 引导充值或开通VIP |
| 4003 | 410 | GONE | "章节已下架" | 章节被作者下架 | 提示章节已下架，返回目录 |

### 阅读进度错误 (4200-4299)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 4010 | 400 | INVALID_PROGRESS | "阅读进度无效" | 进度值超出范围 | 重置为正常范围 |
| 4011 | 404 | READING_RECORD_NOT_FOUND | "阅读记录不存在" | 无阅读记录 | 自动创建新记录 |

### 书签错误 (4300-4399)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 4020 | 404 | BOOKMARK_NOT_FOUND | "书签不存在" | 指定书签不存在 | 提示书签不存在 |
| 4021 | 409 | BOOKMARK_EXISTS | "书签已存在" | 该位置已有书签 | 提示是否覆盖 |
| 4022 | 400 | BOOKMARK_LIMIT_EXCEEDED | "书签数量超限" | 超过最大书签数量 | 提示删除部分书签 |

### 批注错误 (4400-4499)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 4030 | 404 | ANNOTATION_NOT_FOUND | "批注不存在" | 指定批注不存在 | 提示批注不存在 |
| 4031 | 403 | NO_PERMISSION | "无权操作此批注" | 不是批注创建者 | 提示无权操作 |
| 4032 | 400 | ANNOTATION_CONTENT_TOO_LONG | "批注内容过长" | 超过最大长度限制 | 提示精简内容 |

### 阅读设置错误 (4500-4599)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 4040 | 400 | INVALID_FONT_SIZE | "字号无效" | 字号超出范围 | 重置为默认值 |
| 4041 | 400 | INVALID_THEME | "主题无效" | 指定主题不存在 | 重置为默认主题 |

---

## 写作模块错误码 (5000-5999)

### 项目管理错误 (5100-5199)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 5001 | 404 | PROJECT_NOT_FOUND | "项目不存在" | 指定项目不存在 | 提示项目不存在或已删除 |
| 5002 | 403 | PROJECT_ACCESS_DENIED | "无权访问项目" | 不是项目成员 | 提示无权限 |
| 5003 | 400 | INVALID_PROJECT_DATA | "项目数据无效" | 项目数据格式错误 | 检查输入数据 |
| 5004 | 403 | PROJECT_OPERATION_DENIED | "项目操作被拒绝" | 项目状态不允许操作 | 检查项目状态 |

### 文档管理错误 (5200-5299)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 5011 | 404 | DOCUMENT_NOT_FOUND | "文档不存在" | 指定文档不存在 | 提示文档不存在或已删除 |
| 5012 | 403 | DOCUMENT_ACCESS_DENIED | "无权访问文档" | 不是文档成员 | 提示无权限 |
| 5013 | 400 | INVALID_DOCUMENT_DATA | "文档数据无效" | 文档数据格式错误 | 检查输入数据 |
| 5014 | 400 | INVALID_DOCUMENT_TYPE | "文档类型无效" | 文档类型不支持 | 检查文档类型 |
| 5015 | 400 | CIRCLE_STRUCTURE | "文档结构循环" | 文档父子关系形成循环 | 检查文档关系 |
| 5016 | 400 | MOVE_FAILED | "移动失败" | 文档移动失败 | 检查目标位置 |
| 5017 | 400 | REORDER_FAILED | "排序失败" | 文档排序失败 | 检查排序参数 |

### 编辑器错误 (5300-5399)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 5021 | 404 | CONTENT_NOT_FOUND | "内容不存在" | 文档内容不存在 | 提示重新加载 |
| 5022 | 409 | VERSION_CONFLICT | "版本冲突" | 版本号不匹配 | 提示用户选择处理方式 |
| 5023 | 409 | AUTOSAVE_CONFLICT | "自动保存冲突" | 自动保存时检测到冲突 | 静默处理，显示冲突提示 |
| 5024 | 500 | SAVE_FAILED | "保存失败" | 文档保存失败 | 提示保存失败，建议重试 |

### 角色管理错误 (5400-5499)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 5031 | 404 | CHARACTER_NOT_FOUND | "角色不存在" | 指定角色不存在 | 提示角色不存在 |
| 5032 | 400 | INVALID_CHARACTER_DATA | "角色数据无效" | 角色数据格式错误 | 检查输入数据 |
| 5033 | 409 | CHARACTER_EXISTS | "角色已存在" | 同名角色已存在 | 提示更换名称 |
| 5034 | 403 | CHARACTER_ACCESS_DENIED | "无权访问角色" | 无权限操作角色 | 提示无权限 |

### 地点管理错误 (5500-5599)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 5041 | 404 | LOCATION_NOT_FOUND | "地点不存在" | 指定地点不存在 | 提示地点不存在 |
| 5042 | 400 | INVALID_LOCATION_DATA | "地点数据无效" | 地点数据格式错误 | 检查输入数据 |
| 5043 | 409 | LOCATION_EXISTS | "地点已存在" | 同名地点已存在 | 提示更换名称 |
| 5044 | 403 | LOCATION_ACCESS_DENIED | "无权访问地点" | 无权限操作地点 | 提示无权限 |

### 版本控制错误 (5600-5699)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 5051 | 404 | VERSION_NOT_FOUND | "版本不存在" | 指定版本不存在 | 提示版本不存在 |

### 文档锁定错误 (5700-5799)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 5061 | 409 | DOCUMENT_LOCKED | "文档已被锁定" | 文档被其他用户锁定 | 提示锁定者信息 |
| 5062 | 403 | LOCK_OWNED_BY_OTHER | "锁属于其他用户" | 无法操作他人锁定的文档 | 提示等待解锁 |

### 发布管理错误 (5800-5899)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 5071 | 400 | INVALID_PUBLISH_DATA | "发布数据无效" | 发布配置数据错误 | 检查发布配置 |
| 5072 | 403 | PUBLISH_NOT_ALLOWED | "不允许发布" | 作品状态不允许发布 | 检查作品状态 |
| 5073 | 409 | ALREADY_PUBLISHED | "已经发布" | 已经发布过 | 提示当前发布状态 |

### 统计数据错误 (5900-5999)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 5081 | 404 | STATS_NOT_FOUND | "统计数据不存在" | 统计数据未生成 | 提示数据生成中 |

---

## 用户模块错误码 (6000-6999)

### 用户信息错误 (6100-6199)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 6001 | 404 | USER_NOT_FOUND | "用户不存在" | 指定用户不存在 | 提示用户不存在 |
| 6002 | 400 | INVALID_USER_DATA | "用户数据无效" | 用户数据格式错误 | 检查输入数据 |

### 头像上传错误 (6200-6299)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 6010 | 400 | INVALID_FILE_FORMAT | "文件格式不支持" | 不支持的图片格式 | 提示支持jpg/png/gif |
| 6011 | 400 | FILE_TOO_LARGE | "文件过大" | 超过最大文件大小 | 提示文件大小限制 |
| 6012 | 500 | UPLOAD_FAILED | "上传失败" | 文件上传失败 | 提示重试 |

### 书架相关错误 (6300-6399)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 6020 | 404 | BOOK_NOT_IN_BOOKSHELF | "书籍不在书架" | 指定书籍不在书架中 | 提示添加到书架 |
| 6021 | 409 | BOOK_ALREADY_IN_BOOKSHELF | "书籍已在书架" | 书籍已在书架中 | 提示已存在 |
| 6022 | 400 | BOOKSHELF_FULL | "书架已满" | 超过书架容量限制 | 提示升级或删除部分书籍 |

---

## 社交模块错误码 (7000-7999)

### 评论错误 (7100-7199)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 7001 | 400 | COMMENT_TOO_SHORT | "评论内容过短" | 少于10个字符 | 提示评论长度要求 |
| 7002 | 400 | COMMENT_TOO_LONG | "评论内容过长" | 超过500个字符 | 提示精简内容 |
| 7003 | 404 | BOOK_NOT_FOUND | "书籍不存在" | 评论的书籍不存在 | 检查书籍ID |
| 7004 | 404 | COMMENT_NOT_FOUND | "评论不存在" | 指定评论不存在 | 提示评论不存在 |
| 7005 | 403 | NO_PERMISSION | "无权删除他人评论" | 不是评论创建者 | 提示无权限 |
| 7006 | 400 | RATING_OUT_OF_RANGE | "评分超出范围" | 评分不在0-5范围 | 提示评分范围 |
| 7007 | 404 | CHAPTER_NOT_FOUND | "章节不存在" | 评论的章节不存在 | 检查章节ID |
| 7008 | 409 | COMMENT_EXISTS | "评论已存在" | 已有相同评论 | 提示编辑已有评论 |
| 7009 | 410 | COMMENT_DELETED | "评论已删除" | 评论已被删除 | 提示评论已删除 |
| 7010 | 403 | COMMENT_UNDER_REVIEW | "评论审核中" | 评论等待审核 | 提示审核中 |

### 点赞错误 (7200-7299)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 7020 | 404 | BOOK_NOT_FOUND | "书籍不存在" | 点赞的书籍不存在 | 检查书籍ID |
| 7021 | 409 | ALREADY_LIKED | "已经点赞过" | 已经点赞过该书籍 | 提示已点赞 |
| 7022 | 409 | NOT_LIKED_YET | "未点赞过" | 未点赞过该书籍 | 提示先点赞 |
| 7023 | 500 | LIKE_FAILED | "点赞失败" | 点赞操作失败 | 提示重试 |
| 7024 | 500 | UNLIKE_FAILED | "取消点赞失败" | 取消点赞操作失败 | 提示重试 |

### 收藏错误 (7300-7399)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 7030 | 404 | BOOK_NOT_FOUND | "书籍不存在" | 收藏的书籍不存在 | 检查书籍ID |
| 7031 | 409 | ALREADY_COLLECTED | "已经收藏过" | 已经收藏过该书籍 | 提示已收藏 |
| 7032 | 404 | FOLDER_NOT_FOUND | "收藏夹不存在" | 指定收藏夹不存在 | 检查收藏夹ID |
| 7033 | 404 | COLLECTION_NOT_FOUND | "收藏不存在" | 指定收藏不存在 | 提示收藏不存在 |
| 7034 | 500 | COLLECTION_FAILED | "收藏失败" | 收藏操作失败 | 提示重试 |
| 7035 | 500 | UNCOLLECT_FAILED | "取消收藏失败" | 取消收藏操作失败 | 提示重试 |
| 7036 | 400 | COLLECTION_LIMIT_EXCEEDED | "超出收藏数量限制" | 超过最大收藏数 | 提示升级或清理 |

### 消息错误 (7400-7499)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 7050 | 404 | CONVERSATION_NOT_FOUND | "会话不存在" | 指定会话不存在 | 检查会话ID |
| 7051 | 404 | MESSAGE_NOT_FOUND | "消息不存在" | 指定消息不存在 | 提示消息不存在 |
| 7052 | 400 | MESSAGE_TOO_LONG | "消息内容过长" | 超过5000字符 | 提示精简内容 |
| 7053 | 400 | MESSAGE_TYPE_NOT_SUPPORTED | "消息类型不支持" | 不支持的消息类型 | 检查消息类型 |
| 7054 | 404 | USER_NOT_FOUND | "对方用户不存在" | 消息接收方不存在 | 检查用户ID |
| 7055 | 500 | SEND_FAILED | "消息发送失败" | 消息发送失败 | 提示重试 |
| 7056 | 400 | CANNOT_MESSAGE_SELF | "不能给自己发消息" | 尝试给自己发消息 | 提示不能给自己发 |
| 7057 | 410 | MESSAGE_RECALL_TIMEOUT | "消息已撤回" | 超过2分钟无法撤回 | 提示撤回时间限制 |
| 7058 | 500 | FILE_UPLOAD_FAILED | "文件上传失败" | 文件上传失败 | 提示重试 |
| 7059 | 400 | FILE_SIZE_EXCEEDED | "文件大小超限" | 超过文件大小限制 | 提示文件大小限制 |

### 关注错误 (7500-7599)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 7070 | 404 | USER_NOT_FOUND | "用户不存在" | 关注的用户不存在 | 检查用户ID |
| 7071 | 409 | ALREADY_FOLLOWING | "已经关注过" | 已经关注过该用户 | 提示已关注 |
| 7072 | 409 | NOT_FOLLOWING_YET | "未关注过" | 未关注过该用户 | 提示先关注 |
| 7073 | 400 | CANNOT_FOLLOW_SELF | "不能关注自己" | 尝试关注自己 | 提示不能关注自己 |
| 7074 | 500 | FOLLOW_FAILED | "关注失败" | 关注操作失败 | 提示重试 |
| 7075 | 500 | UNFOLLOW_FAILED | "取消关注失败" | 取消关注操作失败 | 提示重试 |
| 7076 | 403 | FOLLOW_RESTRICTED | "对方设置了关注限制" | 对方禁止关注 | 提示无法关注 |
| 7077 | 400 | FOLLOW_LIMIT_EXCEEDED | "超出关注数量限制" | 超过最大关注数 | 提示升级或清理关注 |

### 书评错误 (7600-7699)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 7090 | 404 | REVIEW_NOT_FOUND | "书评不存在" | 指定书评不存在 | 提示书评不存在 |
| 7091 | 400 | REVIEW_TITLE_TOO_LONG | "书评标题过长" | 超过标题长度限制 | 提示精简标题 |
| 7092 | 400 | REVIEW_CONTENT_TOO_SHORT | "书评内容过短" | 少于内容长度要求 | 提示内容要求 |
| 7093 | 403 | NO_PERMISSION | "无权修改他人书评" | 不是书评创建者 | 提示无权限 |
| 7094 | 410 | REVIEW_DELETED | "书评已删除" | 书评已被删除 | 提示书评已删除 |
| 7095 | 400 | RATING_OUT_OF_RANGE | "评分超出范围" | 评分不在1-5范围 | 提示评分范围 |
| 7096 | 404 | TARGET_NOT_FOUND | "目标不存在" | 书评目标不存在 | 检查目标ID |
| 7097 | 403 | REVIEW_UNDER_REVIEW | "书评审核中" | 书评等待审核 | 提示审核中 |

### 书单错误 (7700-7799)

| 错误码 | HTTP状态 | 错误类型 | 错误信息 | 说明 | 前端处理 |
|--------|---------|---------|---------|------|---------|
| 7110 | 404 | BOOKLIST_NOT_FOUND | "书单不存在" | 指定书单不存在 | 提示书单不存在 |
| 7111 | 400 | BOOKLIST_NAME_TOO_LONG | "书单名称过长" | 超过名称长度限制 | 提示精简名称 |
| 7112 | 400 | BOOKLIST_DESC_TOO_LONG | "书单描述过长" | 超过描述长度限制 | 提示精简描述 |
| 7113 | 410 | BOOKLIST_DELETED | "书单已删除" | 书单已被删除 | 提示书单已删除 |
| 7114 | 404 | BOOK_NOT_IN_BOOKLIST | "书籍不在书单中" | 书籍不在该书单 | 提示添加书籍 |
| 7115 | 409 | BOOK_ALREADY_IN_BOOKLIST | "书籍已在书单中" | 书籍已在书单中 | 提示已存在 |
| 7116 | 400 | BOOKLIST_FULL | "书单已满" | 超过书单容量限制 | 提示升级或删除部分 |
| 7117 | 403 | NO_PERMISSION | "无权修改他人书单" | 不是书单创建者 | 提示无权限 |

---

## 错误处理最佳实践

### 前端处理流程

```typescript
// 1. 在 Axios 拦截器中统一处理
// 2. 根据错误码进行分类处理
// 3. 提供用户友好的错误提示
// 4. 记录错误日志用于调试
```

### 后端处理流程

```go
// 1. 在业务逻辑中返回具体错误码
// 2. 使用全局错误处理中间件统一格式
// 3. 记录详细的错误日志
// 4. 区分开发和生产环境的错误信息
```

---

## 相关文档

- [错误处理最佳实践](best-practices.md)
- [前端集成指南](../frontend/前端集成指南.md)
- [数据模型定义](../data-models/request-models.md)
