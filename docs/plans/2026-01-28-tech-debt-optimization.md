# æŠ€æœ¯å€ºåŠ¡æ¸…ç†ä¼˜åŒ–è®¾è®¡æ–‡æ¡£

> **åˆ›å»ºæ—¥æœŸï¼š** 2026-01-28
> **æ–‡æ¡£ç±»å‹ï¼š** æŠ€æœ¯å€ºåŠ¡æ¸…ç†è®¡åˆ’
> **é¢„ä¼°å‘¨æœŸï¼š** 1-2æœˆï¼ˆ8-10å‘¨ï¼‰
> **ä¼˜å…ˆçº§ï¼š** P0ä¼˜å…ˆï¼ŒP1åœ¨ä½™åŠ›æ—¶å¤„ç†
> **çŠ¶æ€ï¼š** ğŸ“ è§„åˆ’ä¸­

---

## å˜æ›´è®°å½•

**v1.0ï¼ˆåˆå§‹ç‰ˆæœ¬ï¼‰**
- åŸºäºå‰ç«¯é¡¹ç›®å…¨é¢å®¡æŸ¥æŠ¥å‘Šï¼ˆ2026-01-28ï¼‰
- åˆ¶å®šæŠ€æœ¯å€ºåŠ¡æ¸…ç†æ–¹æ¡ˆ
- è§„åˆ’8-10å‘¨å®æ–½è®¡åˆ’

---

## ç›®å½•

1. [æ¦‚è¿°](#æ¦‚è¿°)
2. [é—®é¢˜åˆ†æ](#é—®é¢˜åˆ†æ)
3. [ä¼˜åŒ–æ–¹æ¡ˆè®¾è®¡](#ä¼˜åŒ–æ–¹æ¡ˆè®¾è®¡)
4. [å®æ–½è®¡åˆ’](#å®æ–½è®¡åˆ’)
5. [é£é™©è¯„ä¼°ä¸åº”å¯¹](#é£é™©è¯„ä¼°ä¸åº”å¯¹)
6. [éªŒæ”¶æ ‡å‡†](#éªŒæ”¶æ ‡å‡†)
7. [é™„å½•](#é™„å½•)

---

## æ¦‚è¿°

### 1.1 èƒŒæ™¯

2026-01-28å®Œæˆçš„å‰ç«¯é¡¹ç›®å…¨é¢å®¡æŸ¥æ­ç¤ºäº†é¡¹ç›®å½“å‰å­˜åœ¨çš„ä¸»è¦æŠ€æœ¯å€ºåŠ¡ï¼š

**ä¼˜åŠ¿ä¿æŒï¼š**
- âœ… æ¸…æ™°çš„æ¨¡å—åŒ–æ¶æ„ï¼ˆ21ä¸ªæ¨¡å—ï¼‰
- âœ… å®Œå–„çš„è®¾è®¡ç³»ç»Ÿï¼ˆ23ä¸ªQingyuç»„ä»¶ï¼‰
- âœ… è‰¯å¥½çš„ç±»å‹å®‰å…¨
- âœ… ç»„ä»¶åº“è¿ç§»è¿›å±•é¡ºåˆ©ï¼ˆå·²å®Œæˆ70%ï¼‰

**ä¸»è¦æŠ€æœ¯å€ºåŠ¡ï¼š**
- âš ï¸ **æ¨¡å—å®Œæˆåº¦ä¸è¶³**ï¼šæ€»ä½“å®Œæˆåº¦43%ï¼Œ7ä¸ªæ¨¡å—<10%ï¼Œ4ä¸ªæ¨¡å—å®Œå…¨æœªå¼€å‘
- âš ï¸ **æµ‹è¯•è¦†ç›–ç‡ä½**ï¼šä¸šåŠ¡æ¨¡å—æµ‹è¯•è¦†ç›–<10%ï¼Œä»…æœ‰3ä¸ªæµ‹è¯•æ–‡ä»¶
- âš ï¸ **APIç”Ÿæˆä¸ç»Ÿä¸€**ï¼šä»…9/21æ¨¡å—é…ç½®Orvalè‡ªåŠ¨ç”Ÿæˆï¼ˆ43%ï¼‰
- âš ï¸ **æ€§èƒ½ä¼˜åŒ–ç©ºé—´å¤§**ï¼šElement Pluså’ŒEchartså­˜åœ¨å…¨é‡å¯¼å…¥ï¼Œå¯ä¼˜åŒ–~800KB

### 1.2 ç›®æ ‡

æœ¬æ¬¡æŠ€æœ¯å€ºåŠ¡æ¸…ç†çš„æ ¸å¿ƒç›®æ ‡ï¼š

**ä¸»è¦ç›®æ ‡ï¼ˆP0ï¼‰ï¼š**
1. **æå‡æ¨¡å—å®Œæˆåº¦**ï¼šå°†11ä¸ªæœªå®Œæˆæ¨¡å—çš„å®Œæˆåº¦æå‡è‡³50%+
2. **æå‡æµ‹è¯•è¦†ç›–ç‡**ï¼šä¸šåŠ¡æ¨¡å—æµ‹è¯•è¦†ç›–ç‡ä»<10%æå‡è‡³â‰¥50%
3. **ç¡®ä¿æ ¸å¿ƒåŠŸèƒ½å¯ç”¨**ï¼šæ‰€æœ‰æ¨¡å—è·¯ç”±æ¿€æ´»ï¼ŒåŸºç¡€åŠŸèƒ½å¯è®¿é—®

**æ¬¡è¦ç›®æ ‡ï¼ˆP1ï¼‰ï¼š**
4. **ç»Ÿä¸€APIç”Ÿæˆ**ï¼šOrvalé…ç½®è¦†ç›–ç‡ä»43%æå‡è‡³100%ï¼ˆæˆ–å»ºç«‹æ‰‹åŠ¨APIè§„èŒƒï¼‰
5. **ä¼˜åŒ–æ€§èƒ½**ï¼šæ‰“åŒ…ä½“ç§¯å‡å°‘30%ï¼Œé¦–å±åŠ è½½æ—¶é—´â‰¤2s

### 1.3 èŒƒå›´

**åŒ…å«èŒƒå›´ï¼š**
- P0é—®é¢˜ï¼šæ¨¡å—å®Œæˆåº¦æå‡ã€æµ‹è¯•è¦†ç›–æå‡
- P1é—®é¢˜ï¼šAPIç»Ÿä¸€ã€æ€§èƒ½ä¼˜åŒ–
- 21ä¸ªä¸šåŠ¡æ¨¡å—çš„æŠ€æœ¯å€ºåŠ¡æ¸…ç†
- åŸºç¡€è®¾æ–½æ”¹è¿›ï¼ˆæµ‹è¯•ã€æ„å»ºã€æ–‡æ¡£ï¼‰

**ä¸åŒ…å«èŒƒå›´ï¼š**
- æ–°åŠŸèƒ½å¼€å‘ï¼ˆä»…å®Œæˆæœªå®Œæˆçš„æ¨¡å—ï¼‰
- UI/UXé‡æ–°è®¾è®¡
- åç«¯APIå¼€å‘
- ç¬¬ä¸‰æ–¹åº“å‡çº§

### 1.4 é¢„æœŸæˆæœ

**é‡åŒ–æŒ‡æ ‡ï¼š**
- æ¨¡å—å®Œæˆåº¦ï¼š43% â†’ 70%+
- æµ‹è¯•è¦†ç›–ç‡ï¼š<10% â†’ â‰¥50%
- APIé…ç½®ç‡ï¼š43% â†’ 100%
- æ‰“åŒ…ä½“ç§¯ï¼šå‡å°‘30%ï¼ˆ~800KBï¼‰
- é¦–å±åŠ è½½ï¼šâ‰¤2s

**è´¨é‡æå‡ï¼š**
- ä»£ç è´¨é‡ï¼šå¯ç»´æŠ¤æ€§æå‡
- å¼€å‘æ•ˆç‡ï¼šAPIç»Ÿä¸€å‡å°‘ç»´æŠ¤æˆæœ¬
- ç”¨æˆ·ä½“éªŒï¼šæ€§èƒ½ä¼˜åŒ–æå‡åŠ è½½é€Ÿåº¦
- æŠ€æœ¯å€ºåŠ¡ï¼šæ˜¾è‘—é™ä½ï¼Œä¸ºåç»­å¼€å‘å¥ å®šåŸºç¡€

---

## é—®é¢˜åˆ†æ

### 2.1 P0é—®é¢˜åˆ†æ

#### 2.1.1 æ¨¡å—å®Œæˆåº¦ä¸è¶³

**å½“å‰çŠ¶æ€ï¼ˆåŸºäºå®¡æŸ¥æŠ¥å‘Šï¼‰ï¼š**

| å®Œæˆåº¦ | æ•°é‡ | æ¨¡å—åˆ—è¡¨ | å æ¯” |
|--------|------|----------|------|
| 100% | 1ä¸ª | bookstore | 5% |
| 75% | 5ä¸ª | admin, ai, reader, writer, ? | 24% |
| 50% | 4ä¸ª | finance, notification, social, user | 19% |
| 25% | 1ä¸ª | achievement | 5% |
| 10% | 7ä¸ª | booklist, community, discovery, reading-stats, review, vip, ? | 33% |
| 0% | 4ä¸ª | announcements, recommendation, reward, system | 19% |

**é—®é¢˜åˆ†æï¼š**
1. **è·¯ç”±æœªæ¿€æ´»**ï¼š6ä¸ªæ¨¡å—è·¯ç”±è¢«æ³¨é‡Šï¼ˆbooklist, community, discovery, reading-stats, review, vipï¼‰
2. **æ— è·¯ç”±æ–‡ä»¶**ï¼š5ä¸ªæ¨¡å—æ— è·¯ç”±é…ç½®ï¼ˆannouncements, recommendation, reward, system, sharedï¼‰
3. **åŠŸèƒ½ç¼ºå¤±**ï¼š11ä¸ªæ¨¡å—å®Œæˆåº¦<25%ï¼Œæ— æ³•æä¾›åŸºç¡€åŠŸèƒ½

**å½±å“è¯„ä¼°ï¼š**
- ç”¨æˆ·æ— æ³•è®¿é—®33%çš„æ¨¡å—åŠŸèƒ½ï¼ˆ7ä¸ª10%å®Œæˆåº¦æ¨¡å—ï¼‰
- 19%çš„æ¨¡å—å®Œå…¨æœªå¼€å‘ï¼ˆ4ä¸ª0%æ¨¡å—ï¼‰
- æ•´ä½“é¡¹ç›®å®Œæˆåº¦ä»…43%ï¼Œå½±å“ç”¨æˆ·ä½“éªŒå’Œäº§å“ä»·å€¼

**ä¼˜å…ˆçº§æ’åºï¼š**

| ä¼˜å…ˆçº§ | æ¨¡å— | ç†ç”± | é¢„ä¼°å·¥æ—¶ |
|--------|------|------|----------|
| P0 | booklist | æ ¸å¿ƒåŠŸèƒ½ï¼Œç”¨æˆ·ä¹¦å•ç®¡ç† | 3-5å¤© |
| P0 | discovery | æ ¸å¿ƒåŠŸèƒ½ï¼Œå†…å®¹å‘ç° | 3-5å¤© |
| P1 | community | é‡è¦åŠŸèƒ½ï¼Œç”¨æˆ·ç¤¾äº¤ | 3-4å¤© |
| P1 | review | é‡è¦åŠŸèƒ½ï¼Œå†…å®¹äº’åŠ¨ | 2-3å¤© |
| P1 | reading-stats | é‡è¦åŠŸèƒ½ï¼Œç”¨æˆ·æ•°æ® | 2-3å¤© |
| P2 | vip | æ¬¡è¦åŠŸèƒ½ï¼Œä¼šå‘˜ç³»ç»Ÿ | 2-3å¤© |
| P2 | achievement | æ¬¡è¦åŠŸèƒ½ï¼Œæˆå°±ç³»ç»Ÿ | 2-3å¤© |
| P3 | announcements | æ¬¡è¦åŠŸèƒ½ï¼Œå…¬å‘Šé€šçŸ¥ | 1-2å¤© |
| P3 | recommendation | æ¬¡è¦åŠŸèƒ½ï¼Œæ™ºèƒ½æ¨è | 3-5å¤© |
| P3 | reward | æ¬¡è¦åŠŸèƒ½ï¼Œå¥–åŠ±ç³»ç»Ÿ | 2-3å¤© |
| P3 | system | æ¬¡è¦åŠŸèƒ½ï¼Œç³»ç»Ÿç®¡ç† | 2-3å¤© |

#### 2.1.2 æµ‹è¯•è¦†ç›–ç‡ä½

**å½“å‰çŠ¶æ€ï¼š**
- è®¾è®¡ç³»ç»Ÿæµ‹è¯•ï¼š80%+ï¼ˆ27ä¸ªæµ‹è¯•æ–‡ä»¶ï¼‰âœ…
- ä¸šåŠ¡æ¨¡å—æµ‹è¯•ï¼š<10%ï¼ˆ3ä¸ªæµ‹è¯•æ–‡ä»¶ï¼‰âŒ

**æµ‹è¯•æ–‡ä»¶ç»Ÿè®¡ï¼š**
```
src/design-system/components/**/*.spec.ts  // 27ä¸ªæ–‡ä»¶
src/modules/bookstore/routes.spec.ts       // 1ä¸ªæ–‡ä»¶
src/modules/bookstore/views/BrowseBooksView.spec.ts  // 1ä¸ªæ–‡ä»¶
src/modules/bookstore/views/setup.ts       // é…ç½®æ–‡ä»¶
```

**é—®é¢˜åˆ†æï¼š**
1. **å•å…ƒæµ‹è¯•ç¼ºå¤±**ï¼š150-200ä¸ªä¸šåŠ¡ç»„ä»¶å‡ ä¹æ— å•å…ƒæµ‹è¯•
2. **E2Eæµ‹è¯•ä¸è¶³**ï¼šä»…11ä¸ªE2Eæµ‹è¯•æ–‡ä»¶ï¼Œè¦†ç›–ä¸å…¨é¢
3. **æµ‹è¯•åŸºç¡€è®¾æ–½ä¸å®Œå–„**ï¼šç¼ºå°‘Mockæ•°æ®ã€æµ‹è¯•å·¥å…·å‡½æ•°

**å½±å“è¯„ä¼°ï¼š**
- ä»£ç è´¨é‡æ— æ³•ä¿éšœï¼Œé‡æ„é£é™©é«˜
- Bugä¿®å¤æ—¶å¯èƒ½å¼•å…¥æ–°é—®é¢˜
- å›å½’æµ‹è¯•æˆæœ¬é«˜ï¼Œéœ€è¦äººå·¥éªŒè¯
- æ–°äººä¸Šæ‰‹æ—¶ç¼ºå°‘æµ‹è¯•ä½œä¸ºè¡Œä¸ºè¯´æ˜

**æµ‹è¯•è¦†ç›–ç›®æ ‡ï¼š**

| æ¨¡å—ç±»å‹ | å½“å‰è¦†ç›–ç‡ | ç›®æ ‡è¦†ç›–ç‡ | ä¼˜å…ˆçº§ |
|----------|------------|------------|--------|
| 75%å®Œæˆæ¨¡å—ï¼ˆ5ä¸ªï¼‰ | 0% | 60% | P0 |
| 50%å®Œæˆæ¨¡å—ï¼ˆ4ä¸ªï¼‰ | 0% | 40% | P1 |
| æ–°å®Œæˆæ¨¡å—ï¼ˆ4ä¸ªï¼‰ | 0% | 50% | P0 |
| å…¶ä»–æ¨¡å— | 0% | 30% | P2 |

### 2.2 P1é—®é¢˜åˆ†æ

#### 2.2.1 APIç”Ÿæˆä¸ç»Ÿä¸€

**å½“å‰çŠ¶æ€ï¼š**

| ç±»åˆ« | æ•°é‡ | æ¨¡å—åˆ—è¡¨ |
|------|------|----------|
| å·²é…ç½®Orval | 9ä¸ª | reader, bookstore, admin, writer, social, ai, finance, notification |
| æœªé…ç½®Orval | 12ä¸ª | achievement, announcements, booklist, community, discovery, reading-stats, recommendation, review, reward, system, user, vip |

**é…ç½®ç‡ï¼š** 43%ï¼ˆ9/21ï¼‰

**é—®é¢˜åˆ†æï¼š**
1. **ç»´æŠ¤æˆæœ¬é«˜**ï¼š12ä¸ªæ¨¡å—éœ€è¦æ‰‹åŠ¨ç»´æŠ¤APIå®šä¹‰
2. **ç±»å‹å®‰å…¨ä¸ä¸€è‡´**ï¼šæ‰‹åŠ¨APIå¯èƒ½ç¼ºå°‘ç±»å‹å®šä¹‰
3. **ä»£ç é‡å¤**ï¼šç›¸ä¼¼çš„APIé€»è¾‘åœ¨å¤šä¸ªæ¨¡å—ä¸­é‡å¤
4. **æ›´æ–°æˆæœ¬é«˜**ï¼šåç«¯APIå˜æ›´æ—¶éœ€è¦æ‰‹åŠ¨æ›´æ–°12ä¸ªæ¨¡å—

**å½±å“è¯„ä¼°ï¼š**
- å¼€å‘æ•ˆç‡é™ä½ï¼Œæ‰‹åŠ¨APIç»´æŠ¤è€—æ—¶
- ç±»å‹å®‰å…¨æ€§ä¸ä¸€è‡´ï¼Œæ½œåœ¨è¿è¡Œæ—¶é”™è¯¯
- æ–°äººä¸Šæ‰‹æ—¶éœ€è¦ç†è§£ä¸¤å¥—APIè§„èŒƒï¼ˆè‡ªåŠ¨+æ‰‹åŠ¨ï¼‰

**åˆ†ç±»å¤„ç†æ–¹æ¡ˆï¼š**

| ç±»åˆ« | åˆ¤æ–­æ ‡å‡† | å¤„ç†æ–¹æ¡ˆ | é¢„ä¼°å·¥æ—¶ |
|------|----------|----------|----------|
| Aç±» | æœ‰åç«¯APIï¼Œå¯è‡ªåŠ¨ç”Ÿæˆ | é…ç½®Orval | 2-3å¤©/æ‰¹ |
| Bç±» | æ— åç«¯APIï¼Œéœ€è¦é¢„ç•™ | æ‰‹åŠ¨API + è§„èŒƒæ–‡æ¡£ | 1-2å¤©/æ‰¹ |
| Cç±» | ä¸éœ€è¦APIï¼ˆsharedï¼‰ | ä»…ç±»å‹å®šä¹‰ | 0.5å¤©/ä¸ª |

#### 2.2.2 æ€§èƒ½ä¼˜åŒ–ç©ºé—´

**å½“å‰ä¾èµ–åˆ†æï¼ˆåŸºäºå®¡æŸ¥æŠ¥å‘Šï¼‰ï¼š**

```json
{
  "element-plus": "^2.4.4",     // ~800KB gzippedï¼ˆå¯èƒ½å…¨é‡å¯¼å…¥ï¼‰
  "echarts": "^6.0.0",          // ~400KB gzippedï¼ˆå…¨é‡å¯¼å…¥ï¼‰
  "æ€»è®¡": "~1200KB"
}
```

**é—®é¢˜åˆ†æï¼š**

**1. Element Pluså…¨é‡å¯¼å…¥**
- å½“å‰ï¼šå¯èƒ½ä½¿ç”¨ `import ElementPlus from 'element-plus'`
- å®é™…ä½¿ç”¨ï¼šä»…7å¤„å¯¼å…¥ï¼ˆ2å¤„ElTree + 5å¤„ç±»å‹å®šä¹‰ï¼‰
- ä¼˜åŒ–ç©ºé—´ï¼š~700KBï¼ˆä¿ç•™ElTreeæŒ‰éœ€å¯¼å…¥ï¼‰

**2. Echartså…¨é‡å¯¼å…¥**
- å½“å‰ï¼šä½¿ç”¨ `import * as echarts from 'echarts'`
- å®é™…ä½¿ç”¨ï¼šéœ€è¦ç»Ÿè®¡ï¼ˆå®¡æŸ¥æŠ¥å‘Šä¸­æœªæ˜ç¡®ï¼‰
- ä¼˜åŒ–ç©ºé—´ï¼š~300KBï¼ˆæŒ‰éœ€å¯¼å…¥å›¾è¡¨ç±»å‹ï¼‰

**3. æ‰“åŒ…é…ç½®æœªä¼˜åŒ–**
- æœªé…ç½® `manualChunks`ï¼Œæ‰€æœ‰ä¾èµ–æ‰“åŒ…åœ¨ä¸€èµ·
- ç¼ºå°‘ä»£ç åˆ†å‰²ç­–ç•¥

**å½±å“è¯„ä¼°ï¼š**
- é¦–å±åŠ è½½æ—¶é—´é•¿ï¼ˆé¢„ä¼°3s+ï¼‰
- ç§»åŠ¨ç«¯ç”¨æˆ·ä½“éªŒå·®
- å¸¦å®½æ¶ˆè€—å¤§
- Lighthouseæ€§èƒ½åˆ†æ•°å¯èƒ½<70

**ä¼˜åŒ–ç›®æ ‡ï¼š**

| æŒ‡æ ‡ | å½“å‰ | ç›®æ ‡ | æå‡ |
|------|------|------|------|
| Element Plus | ~800KB | ~100KB | -87.5% |
| Echarts | ~400KB | ~100KB | -75% |
| æ€»æ‰“åŒ…ä½“ç§¯ | ~2MB | ~1.4MB | -30% |
| é¦–å±åŠ è½½ | ~3s | â‰¤2s | -33% |
| Lighthouse | 65 | â‰¥80 | +15åˆ† |

### 2.3 ä¼˜å…ˆçº§æ€»ç»“

**P0ï¼ˆå¿…é¡»å®Œæˆï¼Œ1-4å‘¨ï¼‰ï¼š**
1. âœ… æ¨¡å—å®Œæˆåº¦æå‡ï¼ˆbooklist, discovery, community, reviewï¼‰
2. âœ… æµ‹è¯•è¦†ç›–ç‡æå‡ï¼ˆ75%å®Œæˆæ¨¡å— + æ–°å®Œæˆæ¨¡å—ï¼‰

**P1ï¼ˆé‡è¦ï¼Œ5-8å‘¨ï¼‰ï¼š**
3. âœ… APIç»Ÿä¸€ï¼ˆ12ä¸ªæ¨¡å—é…ç½®Orvalæˆ–æ‰‹åŠ¨è§„èŒƒï¼‰
4. âœ… æ€§èƒ½ä¼˜åŒ–ï¼ˆElement Plus + EchartsæŒ‰éœ€å¯¼å…¥ï¼‰

**P2ï¼ˆæ¬¡è¦ï¼Œ9-10å‘¨æˆ–å»¶åï¼‰ï¼š**
5. å…¶ä»–æ¨¡å—å®Œæˆåº¦æå‡ï¼ˆvip, achievement, announcementsç­‰ï¼‰
6. æµ‹è¯•è¦†ç›–ç‡æå‡ï¼ˆå…¶ä»–æ¨¡å—ï¼‰

---

## ä¼˜åŒ–æ–¹æ¡ˆè®¾è®¡

### 3.1 æ¨¡å—å®Œæˆåº¦æå‡æ–¹æ¡ˆ

#### 3.1.1 æŠ€æœ¯æ–¹æ¡ˆ

**æ–¹æ¡ˆæ¦‚è¿°ï¼š**
é‡‡ç”¨**æœ€å°å¯è¡Œå®ç°ï¼ˆMVPï¼‰**ç­–ç•¥ï¼Œä¼˜å…ˆå®Œæˆæ ¸å¿ƒåŠŸèƒ½ï¼Œç¡®ä¿æ¨¡å—å¯ç”¨æ€§ã€‚

**æ¨¡å—åˆ†çº§ç­–ç•¥ï¼š**

| ä¼˜å…ˆçº§ | æ¨¡å— | å®Œæˆç›®æ ‡ | å®æ–½ç­–ç•¥ |
|--------|------|----------|----------|
| P0 | booklist | 50% | åŸºç¡€ä¹¦å•CRUD + UI |
| P0 | discovery | 50% | åŸºç¡€å†…å®¹å‘ç° + ç­›é€‰ |
| P1 | community | 40% | åŸºç¡€ç¤¾åŒºåŠŸèƒ½ |
| P1 | review | 40% | åŸºç¡€è¯„è®ºåŠŸèƒ½ |
| P1 | reading-stats | 40% | åŸºç¡€ç»Ÿè®¡å±•ç¤º |

**æœ€å°å¯è¡Œå®ç°æ ‡å‡†ï¼š**

æ¯ä¸ªæ¨¡å—è‡³å°‘åŒ…å«ï¼š
1. **è·¯ç”±é…ç½®**ï¼ˆroutes.tsï¼‰
   - æ¿€æ´»è¢«æ³¨é‡Šçš„è·¯ç”±
   - åˆ›å»ºç¼ºå¤±çš„è·¯ç”±æ–‡ä»¶
   - é…ç½®è·¯ç”±å®ˆå«ï¼ˆéœ€è¦è®¤è¯ã€æƒé™ç­‰ï¼‰

2. **æ ¸å¿ƒè§†å›¾**ï¼ˆ1-2ä¸ªï¼‰
   - ä¸»åˆ—è¡¨/å±•ç¤ºé¡µé¢
   - è¯¦æƒ…é¡µé¢ï¼ˆå¦‚æœéœ€è¦ï¼‰

3. **APIå®šä¹‰**
   - æ‰‹åŠ¨APIå®šä¹‰ï¼ˆä¸´æ—¶ï¼‰
   - æˆ–é…ç½®Orvalè‡ªåŠ¨ç”Ÿæˆ

4. **åŸºç¡€ç»„ä»¶**ï¼ˆå¤ç”¨è®¾è®¡ç³»ç»Ÿï¼‰
   - ä½¿ç”¨Qingyuç»„ä»¶åº“
   - é¿å…é‡å¤é€ è½®å­

5. **çŠ¶æ€ç®¡ç†**
   - Pinia storeï¼ˆå¦‚æœéœ€è¦ï¼‰
   - æˆ–ä½¿ç”¨ç»„ä»¶æœ¬åœ°çŠ¶æ€

#### 3.1.2 å®æ–½ç»†èŠ‚

**æ­¥éª¤1ï¼šæ¨¡å—è„šæ‰‹æ¶æ¨¡æ¿åŒ–**

åˆ›å»ºç»Ÿä¸€çš„æ¨¡å—æ¨¡æ¿ï¼Œç¡®ä¿ä¸€è‡´æ€§ï¼š

```bash
# ç›®å½•ç»“æ„
src/modules/{module-name}/
â”œâ”€â”€ api/              # APIå®šä¹‰
â”‚   â”œâ”€â”€ generated/    # Orvalè‡ªåŠ¨ç”Ÿæˆï¼ˆå¯é€‰ï¼‰
â”‚   â”œâ”€â”€ manual/       # æ‰‹åŠ¨API
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ components/       # ç»„ä»¶
â”œâ”€â”€ services/         # æœåŠ¡å±‚ï¼ˆå¯é€‰ï¼‰
â”œâ”€â”€ stores/           # PiniaçŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ {module}.ts
â”œâ”€â”€ types/            # TypeScriptç±»å‹
â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â”œâ”€â”€ views/            # é¡µé¢è§†å›¾
â”‚   â”œâ”€â”€ {Module}ListView.vue
â”‚   â””â”€â”€ {Module}DetailView.vue
â”œâ”€â”€ routes.ts         # è·¯ç”±é…ç½®
â””â”€â”€ index.ts          # æ¨¡å—å…¥å£
```

**æ­¥éª¤2ï¼šè·¯ç”±æ¿€æ´»**

å¯¹äºè¢«æ³¨é‡Šçš„è·¯ç”±ï¼ˆ6ä¸ªæ¨¡å—ï¼‰ï¼ŒæŒ‰ä»¥ä¸‹æ­¥éª¤æ¿€æ´»ï¼š

```typescript
// src/router/index.ts

// 1. å–æ¶ˆæ³¨é‡Š
import booklistRoutes from '@/modules/booklist/routes'
// import communityRoutes from '@/modules/community/routes'
// import discoveryRoutes from '@/modules/discovery/routes'
// import readingStatsRoutes from '@/modules/reading-stats/routes'
// import reviewRoutes from '@/modules/review/routes'
// import vipRoutes from '@/modules/vip/routes'

// 2. æ³¨å†Œè·¯ç”±
const routes: RouteRecordRaw[] = [
  // ...
  ...booklistRoutes,
  // ...communityRoutes,    // é€ä¸ªæ¿€æ´»
  // ...discoveryRoutes,
  // ...
]

// 3. éªŒè¯è·¯ç”±
// è®¿é—® /booklist, /community ç­‰è·¯å¾„ç¡®è®¤å¯ç”¨
```

**æ­¥éª¤3ï¼šç¼ºå¤±è·¯ç”±åˆ›å»º**

å¯¹äºæ— è·¯ç”±çš„æ¨¡å—ï¼ˆ5ä¸ªï¼‰ï¼Œåˆ›å»ºåŸºç¡€è·¯ç”±æ–‡ä»¶ï¼š

```typescript
// src/modules/{module}/routes.ts
import type { RouteRecordRaw } from 'vue-router'

const routes: RouteRecordRaw[] = [
  {
    path: '/{module}',
    name: '{Module}List',
    component: () => import('./views/{Module}ListView.vue'),
    meta: {
      title: '{Module} List',
      requiresAuth: true
    }
  },
  {
    path: '/{module}/:id',
    name: '{Module}Detail',
    component: () => import('./views/{Module}DetailView.vue'),
    meta: {
      title: '{Module} Detail',
      requiresAuth: true
    }
  }
]

export default routes
```

**æ­¥éª¤4ï¼šæ ¸å¿ƒè§†å›¾å®ç°**

æœ€å°è§†å›¾å®ç°æ¨¡æ¿ï¼š

```vue
<template>
  <div class="{module}-list-view">
    <QyPageHeader title="{Module} List" />

    <QyCard>
      <!-- åˆ—è¡¨å†…å®¹ -->
      <div v-if="loading">Loading...</div>
      <div v-else-if="error">{{ error.message }}</div>
      <div v-else>
        <!-- åˆ—è¡¨æ¸²æŸ“ -->
        <div v-for="item in items" :key="item._id">
          {{ item.name }}
        </div>
      </div>
    </QyCard>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue'
import { use{Module}Store } from '../stores/{module}'

const store = use{Module}Store()
const loading = ref(false)
const error = ref<Error | null>(null)
const items = ref([])

onMounted(async () => {
  loading.value = true
  try {
    items.value = await store.fetchItems()
  } catch (err) {
    error.value = err
  } finally {
    loading.value = false
  }
})
</script>
```

#### 3.1.3 æ—¶é—´ä¼°ç®—

| æ¨¡å— | è·¯ç”±é…ç½® | æ ¸å¿ƒè§†å›¾ | APIå®šä¹‰ | æµ‹è¯• | æ€»è®¡ |
|------|----------|----------|---------|------|------|
| booklist | 0.5å¤© | 2å¤© | 0.5å¤© | 1å¤© | 3-5å¤© |
| discovery | 0.5å¤© | 2å¤© | 0.5å¤© | 1å¤© | 3-5å¤© |
| community | 0.5å¤© | 1.5å¤© | 0.5å¤© | 0.5å¤© | 3-4å¤© |
| review | 0.5å¤© | 1å¤© | 0.5å¤© | 0.5å¤© | 2-3å¤© |
| reading-stats | 0.5å¤© | 1å¤© | 0.5å¤© | 0.5å¤© | 2-3å¤© |
| **æ€»è®¡** | **2.5å¤©** | **7.5å¤©** | **2.5å¤©** | **3.5å¤©** | **13-20å¤©** |

**é¢„ä¼°ï¼š** 2-3å‘¨ï¼ˆç¬¬1-2å‘¨ï¼‰

### 3.2 æµ‹è¯•è¦†ç›–æå‡æ–¹æ¡ˆ

#### 3.2.1 æŠ€æœ¯æ–¹æ¡ˆ

**æ–¹æ¡ˆæ¦‚è¿°ï¼š**
é‡‡ç”¨**æ¸è¿›å¼æµ‹è¯•ç­–ç•¥**ï¼Œä¼˜å…ˆæµ‹è¯•æ ¸å¿ƒä¸šåŠ¡æµç¨‹ï¼Œé€æ­¥æå‡è¦†ç›–ç‡ã€‚

**æµ‹è¯•åˆ†å±‚ç­–ç•¥ï¼š**

| å±‚çº§ | æµ‹è¯•ç±»å‹ | è¦†ç›–ç›®æ ‡ | ä¼˜å…ˆçº§ | å·¥å…· |
|------|----------|----------|--------|------|
| L1 | E2Eæµ‹è¯• | æ ¸å¿ƒä¸šåŠ¡æµç¨‹ | P0 | Playwright |
| L2 | ç»„ä»¶å•å…ƒæµ‹è¯• | 50%+ | P1 | Vitest |
| L3 | å·¥å…·å‡½æ•°æµ‹è¯• | 80%+ | P2 | Vitest |

**æµ‹è¯•åŸºç¡€è®¾æ–½ï¼š**

```typescript
// tests/unit/setup.ts
import { config } from '@vue/test-utils'
import { QyButton, QyCard, QyInput } from '@/design-system'

// å…¨å±€æ³¨å†ŒQingyuç»„ä»¶
config.global.components = {
  QyButton,
  QyCard,
  QyInput
  // ...
}

// Mock API
config.global.mocks = {
  $api: {
    get: vi.fn(),
    post: vi.fn()
  }
}
```

#### 3.2.2 å®æ–½ç»†èŠ‚

**æ­¥éª¤1ï¼šæµ‹è¯•åŸºç¡€è®¾æ–½æ­å»º**

1. **ç»Ÿä¸€æµ‹è¯•é…ç½®**

```typescript
// vitest.config.ts
import { defineConfig } from 'vitest/config'

export default defineConfig({
  test: {
    globals: true,
    environment: 'jsdom',
    setupFiles: ['./tests/unit/setup.ts'],
    coverage: {
      provider: 'v8',
      reporter: ['text', 'json', 'html'],
      exclude: [
        'node_modules/',
        'tests/',
        '**/*.d.ts',
        '**/*.config.*',
        '**/mockData',
        'src/design-system/' // è®¾è®¡ç³»ç»Ÿå·²æœ‰æµ‹è¯•
      ]
    }
  }
})
```

2. **Mockæ•°æ®ç®¡ç†**

```typescript
// tests/mocks/moduleData.ts
export const mockBooklistItems = [
  {
    _id: '1',
    name: 'Test Booklist',
    description: 'Test description',
    createdAt: '2026-01-28'
  }
]

export const mockDiscoveryItems = [
  {
    _id: '1',
    title: 'Test Discovery',
    type: 'book',
    cover: 'test.jpg'
  }
]
```

3. **æµ‹è¯•å·¥å…·å‡½æ•°**

```typescript
// tests/utils/testHelpers.ts
import { vi } from 'vitest'

export const mockApiCall = (data: any, delay = 100) => {
  return vi.fn(() =>
    new Promise((resolve) => {
      setTimeout(() => resolve({ data }), delay)
    })
  )
}

export const waitForComponentToRender = async (wrapper: any) => {
  await wrapper.vm.$nextTick()
  await new Promise((resolve) => setTimeout(resolve, 100))
}
```

**æ­¥éª¤2ï¼šä¸º75%å®Œæˆæ¨¡å—è¡¥å……æµ‹è¯•ï¼ˆç¬¬3å‘¨ï¼‰**

ç›®æ ‡æ¨¡å—ï¼šadmin, ai, reader, writer, bookstoreï¼ˆå·²éƒ¨åˆ†æµ‹è¯•ï¼‰

**å•å…ƒæµ‹è¯•æ¨¡æ¿ï¼š**

```typescript
// src/modules/{module}/components/{Component}.spec.ts
import { describe, it, expect, vi } from 'vitest'
import { mount } from '@vue/test-utils'
import { ComponentName } from './ComponentName.vue'

describe('ComponentName', () => {
  it('renders properly', () => {
    const wrapper = mount(ComponentName, {
      props: {
        title: 'Test Title'
      }
    })
    expect(wrapper.text()).toContain('Test Title')
  })

  it('emits event on button click', async () => {
    const wrapper = mount(ComponentName)
    await wrapper.find('button').trigger('click')
    expect(wrapper.emitted('click')).toBeTruthy()
  })

  it('shows loading state', () => {
    const wrapper = mount(ComponentName, {
      props: {
        loading: true
      }
    })
    expect(wrapper.find('.loading').exists()).toBe(true)
  })
})
```

**Storeæµ‹è¯•æ¨¡æ¿ï¼š**

```typescript
// src/modules/{module}/stores/{module}.spec.ts
import { describe, it, expect, vi, beforeEach } from 'vitest'
import { setActivePinia, createPinia } from 'pinia'
import { use{Module}Store } from './{module}'

describe('{Module} Store', () => {
  beforeEach(() => {
    setActivePinia(createPinia())
  })

  it('fetches items successfully', async () => {
    const store = use{Module}Store()
    const mockData = [{ _id: '1', name: 'Test' }]

    vi.mock('@/modules/{module}/api', () => ({
      getItems: vi.fn(() => Promise.resolve(mockData))
    }))

    await store.fetchItems()
    expect(store.items).toEqual(mockData)
  })

  it('handles errors', async () => {
    const store = use{Module}Store()
    const error = new Error('API Error')

    vi.mock('@/modules/{module}/api', () => ({
      getItems: vi.fn(() => Promise.reject(error))
    }))

    await store.fetchItems()
    expect(store.error).toEqual(error)
  })
})
```

**æ­¥éª¤3ï¼šä¸ºæ–°å®Œæˆæ¨¡å—æ·»åŠ æµ‹è¯•ï¼ˆç¬¬4å‘¨ï¼‰**

ç›®æ ‡æ¨¡å—ï¼šbooklist, discovery, community, review

**E2Eæµ‹è¯•æ¨¡æ¿ï¼š**

```typescript
// tests/e2e/{module}.spec.ts
import { test, expect } from '@playwright/test'

test.describe('{Module} E2E Tests', () => {
  test.beforeEach(async ({ page }) => {
    await page.goto('/{module}')
  })

  test('displays list of items', async ({ page }) => {
    await expect(page.locator('.{module}-item')).toHaveCount(10)
  })

  test('can create new item', async ({ page }) => {
    await page.click('button[text="Create"]')
    await page.fill('input[name="name"]', 'Test Item')
    await page.click('button[text="Save"]')
    await expect(page.locator('.success-message')).toBeVisible()
  })

  test('can filter items', async ({ page }) => {
    await page.selectOption('select[name="filter"]', 'active')
    await expect(page.locator('.{module}-item')).toHaveCount(5)
  })
})
```

**æµ‹è¯•è¦†ç›–ç›®æ ‡ï¼š**

| æ¨¡å—ç±»å‹ | æ¨¡å—æ•° | å•å…ƒæµ‹è¯•ç›®æ ‡ | E2Eæµ‹è¯•ç›®æ ‡ | æ€»è®¡ |
|----------|--------|--------------|-------------|------|
| 75%å®Œæˆ | 5ä¸ª | 60% | æ ¸å¿ƒæµç¨‹ | 30æµ‹è¯•æ–‡ä»¶ |
| æ–°å®Œæˆ | 4ä¸ª | 50% | åŸºç¡€æµç¨‹ | 20æµ‹è¯•æ–‡ä»¶ |
| 50%å®Œæˆ | 4ä¸ª | 40% | å¯é€‰ | 15æµ‹è¯•æ–‡ä»¶ |
| å…¶ä»– | 7ä¸ª | 30% | - | 20æµ‹è¯•æ–‡ä»¶ |
| **æ€»è®¡** | **20ä¸ª** | **50%å¹³å‡** | **æ ¸å¿ƒæµç¨‹** | **85æµ‹è¯•æ–‡ä»¶** |

#### 3.2.3 æ—¶é—´ä¼°ç®—

| ä»»åŠ¡ | å·¥æ—¶ | å¤‡æ³¨ |
|------|------|------|
| æµ‹è¯•åŸºç¡€è®¾æ–½æ­å»º | 2å¤© | é…ç½®ã€Mockã€å·¥å…·å‡½æ•° |
| 75%æ¨¡å—å•å…ƒæµ‹è¯• | 5å¤© | 5ä¸ªæ¨¡å—ï¼Œæ¯ä¸ª1å¤© |
| æ–°æ¨¡å—å•å…ƒæµ‹è¯• | 4å¤© | 4ä¸ªæ¨¡å—ï¼Œæ¯ä¸ª1å¤© |
| E2Eæµ‹è¯•ç¼–å†™ | 3å¤© | æ ¸å¿ƒæµç¨‹è¦†ç›– |
| **æ€»è®¡** | **14å¤©** | **çº¦2å‘¨ï¼ˆç¬¬3-4å‘¨ï¼‰** |

### 3.3 APIç»Ÿä¸€æ–¹æ¡ˆ

#### 3.3.1 æŠ€æœ¯æ–¹æ¡ˆ

**æ–¹æ¡ˆæ¦‚è¿°ï¼š**
ä¸º12ä¸ªæœªé…ç½®Orvalçš„æ¨¡å—ç»Ÿä¸€APIç”Ÿæˆæ–¹å¼ï¼Œç¡®ä¿ç±»å‹å®‰å…¨å’Œç»´æŠ¤ä¸€è‡´æ€§ã€‚

**æ¨¡å—åˆ†ç±»å¤„ç†ï¼š**

| æ¨¡å— | åç«¯APIçŠ¶æ€ | å¤„ç†æ–¹æ¡ˆ | é¢„ä¼°å·¥æ—¶ |
|------|-------------|----------|----------|
| user | âœ… æœ‰ | é…ç½®Orval | 0.5å¤© |
| achievement | âœ… æœ‰ | é…ç½®Orval | 0.5å¤© |
| booklist | âœ… æœ‰ | é…ç½®Orval | 0.5å¤© |
| community | âœ… æœ‰ | é…ç½®Orval | 0.5å¤© |
| discovery | âœ… æœ‰ | é…ç½®Orval | 0.5å¤© |
| reading-stats | âœ… æœ‰ | é…ç½®Orval | 0.5å¤© |
| review | âœ… æœ‰ | é…ç½®Orval | 0.5å¤© |
| vip | âœ… æœ‰ | é…ç½®Orval | 0.5å¤© |
| announcements | âŒ æ—  | æ‰‹åŠ¨API + è§„èŒƒ | 1å¤© |
| recommendation | âŒ æ—  | æ‰‹åŠ¨API + è§„èŒƒ | 1å¤© |
| reward | âŒ æ—  | æ‰‹åŠ¨API + è§„èŒƒ | 1å¤© |
| system | âŒ æ—  | æ‰‹åŠ¨API + è§„èŒƒ | 1å¤© |

**æ‰¹é‡é…ç½®ç­–ç•¥ï¼š**

**Aç±»æ¨¡å—ï¼ˆ8ä¸ªï¼‰- æ‰¹é‡é…ç½®Orval**

```typescript
// orval.config.ts

import { defineConfig } from 'orval'

const createOrvalProject = (name: string, path: string) => ({
  [name]: {
    input: {
      target: '../Qingyu_backend/docs/swagger.yaml',
      filters: { paths: [`^/api/v1/${path}/`] }
    },
    output: {
      mode: 'single',
      client: 'axios',
      target: `src/modules/${name}/api/generated/${name}.ts`,
      schemas: 'src/api/generated/model.ts',
      override: {
        mutator: {
          path: 'src/core/config/orval-mutator.ts',
          name: 'orvalMutator'
        }
      }
    },
    hooks: {
      afterAllFilesWrite: 'prettier --write "src/**/api/generated/**/*.{ts,tsx}"'
    }
  }
})

export default defineConfig({
  // å·²æœ‰é…ç½®
  ...createOrvalProject('reader', 'reader'),
  ...createOrvalProject('bookstore', 'bookstore'),
  // ...

  // æ–°å¢é…ç½®
  ...createOrvalProject('user', 'user'),
  ...createOrvalProject('achievement', 'achievement'),
  ...createOrvalProject('booklist', 'booklist'),
  ...createOrvalProject('community', 'community'),
  ...createOrvalProject('discovery', 'discovery'),
  ...createOrvalProject('reading-stats', 'reading-stats'),
  ...createOrvalProject('review', 'review'),
  ...createOrvalProject('vip', 'vip'),
})
```

**Bç±»æ¨¡å—ï¼ˆ4ä¸ªï¼‰- æ‰‹åŠ¨APIè§„èŒƒ**

å¯¹äºæ— åç«¯APIçš„æ¨¡å—ï¼Œå»ºç«‹æ‰‹åŠ¨APIè§„èŒƒï¼š

```typescript
// src/modules/{module}/api/manual/{module}.ts
import { request } from '@/utils/request-adapter'

/**
 * è·å–å…¬å‘Šåˆ—è¡¨
 * @param params æŸ¥è¯¢å‚æ•°
 * @returns å…¬å‘Šåˆ—è¡¨
 */
export const getAnnouncements = async (params?: GetAnnouncementsParams) => {
  return request.get<Announcement[]>('/api/v1/announcements', { params })
}

/**
 * åˆ›å»ºå…¬å‘Š
 * @param data å…¬å‘Šæ•°æ®
 * @returns åˆ›å»ºçš„å…¬å‘Š
 */
export const createAnnouncement = async (data: CreateAnnouncementDto) => {
  return request.post<Announcement>('/api/v1/announcements', data)
}

// TODO: å¾…åç«¯APIå®ç°åï¼Œä½¿ç”¨Orvalè‡ªåŠ¨ç”Ÿæˆ
```

```typescript
// src/modules/{module}/api/index.ts
export * from './generated/{module}'  // Orvalç”Ÿæˆ
export * from './manual/{module}'     // æ‰‹åŠ¨å®šä¹‰
```

**APIè§„èŒƒæ–‡æ¡£ï¼š**

```markdown
# APIè§„èŒƒæ–‡æ¡£

## æ‰‹åŠ¨APIå®šä¹‰è§„èŒƒ

å½“åç«¯APIæœªå°±ç»ªæ—¶ï¼Œä½¿ç”¨æ‰‹åŠ¨APIå®šä¹‰ï¼Œéµå¾ªä»¥ä¸‹è§„èŒƒï¼š

### 1. å‡½æ•°å‘½å
- get{Resource} - è·å–åˆ—è¡¨
- get{Resource}ById - è·å–è¯¦æƒ…
- create{Resource} - åˆ›å»ºèµ„æº
- update{Resource} - æ›´æ–°èµ„æº
- delete{Resource} - åˆ é™¤èµ„æº

### 2. ç±»å‹å®šä¹‰
- {Resource} - èµ„æºç±»å‹
- Get{Resource}Params - æŸ¥è¯¢å‚æ•°
- Create{Resource}Dto - åˆ›å»ºDTO
- Update{Resource}Dto - æ›´æ–°DTO

### 3. æ³¨é‡Šè§„èŒƒ
- JSDocæ³¨é‡Šæè¿°åŠŸèƒ½
- TODOæ ‡è®°å¾…åç«¯APIå®ç°

### 4. è¿ç§»è·¯å¾„
æ‰‹åŠ¨APIå®šä¹‰åº”éµå¾ª"å¯æ›¿æ¢"åŸåˆ™ï¼Œä¾¿äºåç»­è¿ç§»åˆ°Orvalè‡ªåŠ¨ç”Ÿæˆã€‚
```

#### 3.3.2 å®æ–½ç»†èŠ‚

**æ­¥éª¤1ï¼šè¯„ä¼°åç«¯APIçŠ¶æ€ï¼ˆç¬¬5å‘¨åˆï¼‰**

```bash
# æ£€æŸ¥åç«¯Swaggeræ–‡æ¡£
curl http://localhost:8080/api-docs/swagger.yaml

# ç»Ÿè®¡å·²å®ç°çš„APIç«¯ç‚¹
# - /api/v1/user/*
# - /api/v1/achievement/*
# - ...
```

**æ­¥éª¤2ï¼šä¸ºAç±»æ¨¡å—é…ç½®Orvalï¼ˆç¬¬5å‘¨ï¼‰**

```bash
# 1. æ›´æ–°orval.config.ts
# æ·»åŠ 8ä¸ªæ¨¡å—çš„Orvalé…ç½®

# 2. ç”ŸæˆAPI
npm run generate:api

# 3. éªŒè¯ç”Ÿæˆç»“æœ
ls -la src/modules/*/api/generated/

# 4. ç±»å‹æ£€æŸ¥
npm run type-check
```

**æ­¥éª¤3ï¼šä¸ºBç±»æ¨¡å—å»ºç«‹æ‰‹åŠ¨APIï¼ˆç¬¬6å‘¨ï¼‰**

```bash
# 1. åˆ›å»ºAPIæ–‡ä»¶
touch src/modules/announcements/api/manual/announcements.ts
touch src/modules/recommendation/api/manual/recommendation.ts
touch src/modules/reward/api/manual/reward.ts
touch src/modules/system/api/manual/system.ts

# 2. å®šä¹‰APIå‡½æ•°å’Œç±»å‹
# éµå¾ªAPIè§„èŒƒæ–‡æ¡£

# 3. å¯¼å‡ºAPI
# æ›´æ–°å„æ¨¡å—çš„ api/index.ts
```

**æ­¥éª¤4ï¼šå»ºç«‹APIè§„èŒƒæ–‡æ¡£ï¼ˆç¬¬6å‘¨ï¼‰**

```bash
# åˆ›å»ºAPIè§„èŒƒæ–‡æ¡£
cat > Qingyu_fronted/docs/api-standards.md << 'EOF'
# APIè§„èŒƒæ–‡æ¡£

...ï¼ˆä¸Šæ–‡å†…å®¹ï¼‰
EOF
```

#### 3.3.3 æ—¶é—´ä¼°ç®—

| ä»»åŠ¡ | å·¥æ—¶ | å¤‡æ³¨ |
|------|------|------|
| è¯„ä¼°åç«¯APIçŠ¶æ€ | 1å¤© | ç¡®è®¤Aç±»/Bç±»æ¨¡å— |
| Aç±»æ¨¡å—é…ç½®Orval | 2å¤© | 8ä¸ªæ¨¡å—æ‰¹é‡é…ç½® |
| Bç±»æ¨¡å—æ‰‹åŠ¨API | 3å¤© | 4ä¸ªæ¨¡å—ï¼Œæ¯ä¸ªçº¦1å¤© |
| APIè§„èŒƒæ–‡æ¡£ | 1å¤© | ç¼–å†™è§„èŒƒæ–‡æ¡£ |
| éªŒè¯å’Œæµ‹è¯• | 1å¤© | type-check + åŠŸèƒ½æµ‹è¯• |
| **æ€»è®¡** | **8å¤©** | **çº¦2å‘¨ï¼ˆç¬¬5-6å‘¨ï¼‰** |

### 3.4 æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ

#### 3.4.1 æŠ€æœ¯æ–¹æ¡ˆ

**æ–¹æ¡ˆæ¦‚è¿°ï¼š**
é€šè¿‡æŒ‰éœ€å¯¼å…¥å’Œæ‰“åŒ…ä¼˜åŒ–ï¼Œå‡å°‘æ‰“åŒ…ä½“ç§¯30%ï¼Œæå‡é¦–å±åŠ è½½é€Ÿåº¦ã€‚

**ä¼˜åŒ–ç­–ç•¥ï¼š**

| ä¼˜åŒ–é¡¹ | å½“å‰ | ç›®æ ‡ | æ–¹æ³• | é¢„æœŸæ”¶ç›Š |
|--------|------|------|------|----------|
| Element Plus | ~800KB | ~100KB | æŒ‰éœ€å¯¼å…¥ | -700KB |
| Echarts | ~400KB | ~100KB | æŒ‰éœ€å¯¼å…¥ | -300KB |
| æ‰“åŒ…é…ç½® | æœªä¼˜åŒ– | manualChunks | ä»£ç åˆ†å‰² | å‡å°‘ä¸»åŒ… |
| æ€»è®¡ | ~2MB | ~1.4MB | ç»¼åˆä¼˜åŒ– | -30% |

#### 3.4.2 å®æ–½ç»†èŠ‚

**æ­¥éª¤1ï¼šElement PlusæŒ‰éœ€å¯¼å…¥ï¼ˆç¬¬7å‘¨ï¼‰**

**å½“å‰çŠ¶æ€ï¼ˆå®¡æŸ¥æŠ¥å‘Šï¼‰ï¼š**
- ä»…7å¤„ä½¿ç”¨Element Plus
- 2å¤„ElTreeç»„ä»¶
- 5å¤„ç±»å‹å®šä¹‰

**ä¼˜åŒ–æ–¹æ¡ˆï¼š**

```typescript
// vite.config.ts
import { defineConfig } from 'vite'
import AutoImport from 'unplugin-auto-import/vite'
import Components from 'unplugin-vue-components/vite'
import { ElementPlusResolver } from 'unplugin-vue-components/resolvers'

export default defineConfig({
  plugins: [
    AutoImport({
      resolvers: [ElementPlusResolver()],
    }),
    Components({
      resolvers: [ElementPlusResolver()],
    }),
  ],
})
```

**æˆ–è€…æ‰‹åŠ¨å¯¼å…¥ï¼ˆæ›´ç²¾ç¡®æ§åˆ¶ï¼‰ï¼š**

```typescript
// src/plugins/element-plus.ts
import { ElTree } from 'element-plus'
import 'element-plus/es/components/tree/style/css'

// æŒ‰éœ€æ³¨å†Œ
export function setupElementPlus(app: App) {
  app.component('ElTree', ElTree)
  // ä»…æ³¨å†Œå®é™…ä½¿ç”¨çš„ç»„ä»¶
}
```

**é¢„æœŸæ”¶ç›Šï¼š**
- ä»å…¨é‡å¯¼å…¥~800KBå‡å°‘åˆ°æŒ‰éœ€å¯¼å…¥~100KB
- å‡å°‘çº¦700KBï¼ˆ87.5%ï¼‰

**æ­¥éª¤2ï¼šEchartsæŒ‰éœ€å¯¼å…¥ï¼ˆç¬¬7å‘¨ï¼‰**

**ä¼˜åŒ–æ–¹æ¡ˆï¼š**

```typescript
// src/plugins/echarts.ts
import * as echarts from 'echarts/core'
import { BarChart, LineChart, PieChart } from 'echarts/charts'
import {
  TitleComponent,
  TooltipComponent,
  GridComponent,
  LegendComponent
} from 'echarts/components'
import { CanvasRenderer } from 'echarts/renderers'

echarts.use([
  BarChart,
  LineChart,
  PieChart,
  TitleComponent,
  TooltipComponent,
  GridComponent,
  LegendComponent,
  CanvasRenderer
])

export default echarts
```

**é¢„æœŸæ”¶ç›Šï¼š**
- ä»å…¨é‡å¯¼å…¥~400KBå‡å°‘åˆ°æŒ‰éœ€å¯¼å…¥~100KB
- å‡å°‘çº¦300KBï¼ˆ75%ï¼‰

**æ­¥éª¤3ï¼šæ‰“åŒ…é…ç½®ä¼˜åŒ–ï¼ˆç¬¬7å‘¨ï¼‰**

```typescript
// vite.config.ts
export default defineConfig({
  build: {
    rollupOptions: {
      output: {
        manualChunks: {
          // Vueæ ¸å¿ƒ
          'vue-vendor': ['vue', 'vue-router', 'pinia'],
          // UIåº“ï¼ˆæŒ‰éœ€å¯¼å…¥ååº”è¯¥å¾ˆå°ï¼‰
          'element-plus': ['element-plus'],
          // å›¾è¡¨åº“
          'echarts': ['echarts'],
          // ç¼–è¾‘å™¨
          'editor': ['@editorjs/editorjs', '@editorjs/header'],
          // å·¥å…·åº“
          'utils': ['axios', 'marked', 'nanoid']
        }
      }
    },
    // åˆ†åŒ…å¤§å°è­¦å‘Šé˜ˆå€¼
    chunkSizeWarningLimit: 1000
  }
})
```

**é¢„æœŸæ”¶ç›Šï¼š**
- ä¸»åŒ…ä½“ç§¯å‡å°‘
- æŒ‰éœ€åŠ è½½ä¼˜åŒ–
- ç¼“å­˜ç­–ç•¥ä¼˜åŒ–

**æ­¥éª¤4ï¼šå…¶ä»–ä¼˜åŒ–ï¼ˆç¬¬7-8å‘¨ï¼‰**

```typescript
// å›¾ç‰‡æ‡’åŠ è½½
import { useIntersectionObserver } from '@vueuse/core'

// è·¯ç”±æ‡’åŠ è½½ï¼ˆå·²å®ç°ï¼‰
const BookDetailView = () => import('./views/BookDetailView.vue')

// é¢„åŠ è½½å…³é”®èµ„æº
<link rel="preload" href="/fonts/main.woff2" as="font" type="font/woff2" crossorigin>

// Gzipå‹ç¼©ï¼ˆæœåŠ¡å™¨é…ç½®ï¼‰
gzip on;
gzip_types text/plain text/css application/json application/javascript;
```

#### 3.4.3 æ€§èƒ½æµ‹è¯•å’ŒéªŒè¯ï¼ˆç¬¬8å‘¨ï¼‰

**Lighthouseå®¡è®¡ï¼š**

```bash
# å®‰è£…Lighthouse CI
npm install -g @lhci/cli

# é…ç½®lighthouserc.json
cat > lighthouserc.json << 'EOF'
{
  "ci": {
    "assert": {
      "preset": "lighthouse:recommended",
      "assertions": {
        "categories:performance": ["error", { "minScore": 0.8 }],
        "categories:accessibility": ["error", { "minScore": 0.9 }],
        "categories:best-practices": ["error", { "minScore": 0.9 }],
        "categories:seo": ["warn", { "minScore": 0.8 }]
      }
    }
  }
}
EOF

# è¿è¡Œå®¡è®¡
lhci autorun
```

**æ‰“åŒ…åˆ†æï¼š**

```bash
# æ‰“åŒ…
npm run build

# åˆ†ææ‰“åŒ…ä½“ç§¯
npx vite-bundle-visualizer dist

# æŸ¥çœ‹æŠ¥å‘Š
# åº”è¯¥çœ‹åˆ°ï¼š
# - vue-vendor: ~200KB
# - element-plus: ~100KBï¼ˆä¼˜åŒ–å‰~800KBï¼‰
# - echarts: ~100KBï¼ˆä¼˜åŒ–å‰~400KBï¼‰
```

#### 3.4.4 æ—¶é—´ä¼°ç®—

| ä»»åŠ¡ | å·¥æ—¶ | å¤‡æ³¨ |
|------|------|------|
| Element PlusæŒ‰éœ€å¯¼å…¥ | 2å¤© | é…ç½®+éªŒè¯ |
| EchartsæŒ‰éœ€å¯¼å…¥ | 1å¤© | é…ç½®+éªŒè¯ |
| æ‰“åŒ…é…ç½®ä¼˜åŒ– | 1å¤© | manualChunks |
| å…¶ä»–ä¼˜åŒ– | 1å¤© | å›¾ç‰‡æ‡’åŠ è½½ç­‰ |
| æ€§èƒ½æµ‹è¯•å’Œè°ƒä¼˜ | 2å¤© | Lighthouse+æ‰“åŒ…åˆ†æ |
| **æ€»è®¡** | **7å¤©** | **çº¦1å‘¨ï¼ˆç¬¬7-8å‘¨ï¼‰** |

---

## å®æ–½è®¡åˆ’

### 4.1 æ€»ä½“æ—¶é—´çº¿

**å‘¨æœŸï¼š** 8-10å‘¨ï¼ˆ1-2æœˆï¼‰

**é˜¶æ®µåˆ’åˆ†ï¼š**
- ç¬¬1-2å‘¨ï¼šP0-æ¨¡å—å®Œæˆåº¦æå‡
- ç¬¬3-4å‘¨ï¼šP0-æµ‹è¯•è¦†ç›–æå‡
- ç¬¬5-6å‘¨ï¼šP1-APIç»Ÿä¸€
- ç¬¬7-8å‘¨ï¼šP1-æ€§èƒ½ä¼˜åŒ– + éªŒæ”¶
- ç¬¬9-10å‘¨ï¼šç¼“å†²å’Œæ”¶å°¾

### 4.2 è¯¦ç»†è®¡åˆ’

#### ç¬¬1-2å‘¨ï¼šP0-æ¨¡å—å®Œæˆåº¦æå‡ï¼ˆæ ¸å¿ƒæ¨¡å—ï¼‰

**ç›®æ ‡ï¼š** å®Œæˆ4ä¸ªæ ¸å¿ƒæ¨¡å—çš„åŸºç¡€å®ç°ï¼Œå®Œæˆåº¦æå‡è‡³50%+

**ç¬¬1å‘¨ï¼š**

| ä»»åŠ¡ | è´Ÿè´£äºº | å·¥æ—¶ | äº¤ä»˜ç‰© | æ£€æŸ¥ç‚¹ |
|------|--------|------|--------|--------|
| åˆ›å»ºæ¨¡å—è„šæ‰‹æ¶æ¨¡æ¿ | å‰ç«¯ | 1å¤© | æ¨¡æ¿ç›®å½•+æ–‡æ¡£ | âœ… æ¨¡æ¿å¯ç”¨ |
| booklistæ¨¡å—å¼€å‘ | å‰ç«¯ | 3å¤© | è·¯ç”±+è§†å›¾+API | âœ… è·¯ç”±å¯è®¿é—® |
| discoveryæ¨¡å—å¼€å‘ | å‰ç«¯ | 3å¤© | è·¯ç”±+è§†å›¾+API | âœ… è·¯ç”±å¯è®¿é—® |
| å•å…ƒæµ‹è¯• | å‰ç«¯ | 1å¤© | åŸºç¡€æµ‹è¯•æ–‡ä»¶ | âœ… æµ‹è¯•é€šè¿‡ |

**ç¬¬2å‘¨ï¼š**

| ä»»åŠ¡ | è´Ÿè´£äºº | å·¥æ—¶ | äº¤ä»˜ç‰© | æ£€æŸ¥ç‚¹ |
|------|--------|------|--------|--------|
| communityæ¨¡å—å¼€å‘ | å‰ç«¯ | 3å¤© | è·¯ç”±+è§†å›¾+API | âœ… è·¯ç”±å¯è®¿é—® |
| reviewæ¨¡å—å¼€å‘ | å‰ç«¯ | 2å¤© | è·¯ç”±+è§†å›¾+API | âœ… è·¯ç”±å¯è®¿é—® |
| é›†æˆæµ‹è¯• | å‰ç«¯ | 1å¤© | E2Eæµ‹è¯• | âœ… æµç¨‹é€šè¿‡ |
| æ–‡æ¡£æ›´æ–° | å‰ç«¯ | 1å¤© | æ¨¡å—æ–‡æ¡£ | âœ… æ–‡æ¡£å®Œæ•´ |

**å‘¨æœ«æ£€æŸ¥ç‚¹ï¼š**
- [x] 4ä¸ªæ¨¡å—è·¯ç”±æ¿€æ´»ï¼Œæ— 404é”™è¯¯
- [x] 4ä¸ªæ¨¡å—åŸºç¡€åŠŸèƒ½å¯ç”¨
- [x] å•å…ƒæµ‹è¯•è¦†ç›–â‰¥30%
- [x] E2Eæµ‹è¯•é€šè¿‡æ ¸å¿ƒæµç¨‹

#### ç¬¬3-4å‘¨ï¼šP0-æµ‹è¯•è¦†ç›–æå‡

**ç›®æ ‡ï¼š** ä¸šåŠ¡æ¨¡å—æµ‹è¯•è¦†ç›–ç‡ä»<10%æå‡è‡³â‰¥50%

**ç¬¬3å‘¨ï¼š**

| ä»»åŠ¡ | è´Ÿè´£äºº | å·¥æ—¶ | äº¤ä»˜ç‰© | æ£€æŸ¥ç‚¹ |
|------|--------|------|--------|--------|
| æµ‹è¯•åŸºç¡€è®¾æ–½æ­å»º | å‰ç«¯ | 1å¤© | é…ç½®+Mock+å·¥å…· | âœ… æµ‹è¯•å¯è¿è¡Œ |
| 75%æ¨¡å—å•å…ƒæµ‹è¯•ï¼ˆ5ä¸ªï¼‰ | å‰ç«¯ | 3å¤© | 15æµ‹è¯•æ–‡ä»¶ | âœ… è¦†ç›–ç‡60% |
| Storeæµ‹è¯• | å‰ç«¯ | 1å¤© | Storeæµ‹è¯•æ–‡ä»¶ | âœ… æµ‹è¯•é€šè¿‡ |

**ç¬¬4å‘¨ï¼š**

| ä»»åŠ¡ | è´Ÿè´£äºº | å·¥æ—¶ | äº¤ä»˜ç‰© | æ£€æŸ¥ç‚¹ |
|------|--------|------|--------|--------|
| æ–°æ¨¡å—å•å…ƒæµ‹è¯•ï¼ˆ4ä¸ªï¼‰ | å‰ç«¯ | 2å¤© | 12æµ‹è¯•æ–‡ä»¶ | âœ… è¦†ç›–ç‡50% |
| E2Eæµ‹è¯•ç¼–å†™ | å‰ç«¯ | 2å¤© | æ ¸å¿ƒæµç¨‹æµ‹è¯• | âœ… æµç¨‹é€šè¿‡ |
| æµ‹è¯•è¦†ç›–ç‡éªŒè¯ | å‰ç«¯ | 1å¤© | è¦†ç›–ç‡æŠ¥å‘Š | âœ… â‰¥50% |

**å‘¨æœ«æ£€æŸ¥ç‚¹ï¼š**
- [x] æµ‹è¯•åŸºç¡€è®¾æ–½å®Œå–„
- [x] ä¸šåŠ¡æ¨¡å—æµ‹è¯•è¦†ç›–ç‡â‰¥50%
- [x] E2Eæµ‹è¯•è¦†ç›–æ ¸å¿ƒæµç¨‹
- [x] æ‰€æœ‰æµ‹è¯•é€šè¿‡

#### ç¬¬5-6å‘¨ï¼šP1-APIç»Ÿä¸€

**ç›®æ ‡ï¼š** APIé…ç½®è¦†ç›–ç‡ä»43%æå‡è‡³100%

**ç¬¬5å‘¨ï¼š**

| ä»»åŠ¡ | è´Ÿè´£äºº | å·¥æ—¶ | äº¤ä»˜ç‰© | æ£€æŸ¥ç‚¹ |
|------|--------|------|--------|--------|
| è¯„ä¼°åç«¯APIçŠ¶æ€ | å‰ç«¯+åç«¯ | 1å¤© | åˆ†ç±»æ¸…å• | âœ… åˆ†ç±»æ˜ç¡® |
| Aç±»æ¨¡å—é…ç½®Orvalï¼ˆ8ä¸ªï¼‰ | å‰ç«¯ | 2å¤© | Orvalé…ç½® | âœ… ç”ŸæˆæˆåŠŸ |
| ç”Ÿæˆå’ŒéªŒè¯API | å‰ç«¯ | 1å¤© | APIæ–‡ä»¶ | âœ… type-checké€šè¿‡ |
| å•å…ƒæµ‹è¯•æ›´æ–° | å‰ç«¯ | 1å¤© | æµ‹è¯•æ–‡ä»¶ | âœ… æµ‹è¯•é€šè¿‡ |

**ç¬¬6å‘¨ï¼š**

| ä»»åŠ¡ | è´Ÿè´£äºº | å·¥æ—¶ | äº¤ä»˜ç‰© | æ£€æŸ¥ç‚¹ |
|------|--------|------|--------|--------|
| Bç±»æ¨¡å—æ‰‹åŠ¨APIï¼ˆ4ä¸ªï¼‰ | å‰ç«¯ | 3å¤© | APIå®šä¹‰ | âœ… ç¬¦åˆè§„èŒƒ |
| APIè§„èŒƒæ–‡æ¡£ | å‰ç«¯ | 1å¤© | è§„èŒƒæ–‡æ¡£ | âœ… æ–‡æ¡£å®Œæ•´ |
| é›†æˆæµ‹è¯• | å‰ç«¯ | 1å¤© | APIæµ‹è¯• | âœ… è°ƒç”¨æ­£å¸¸ |

**å‘¨æœ«æ£€æŸ¥ç‚¹ï¼š**
- [x] APIé…ç½®è¦†ç›–ç‡100%
- [x] Orvalé…ç½®æ­£ç¡®ï¼ˆAç±»8ä¸ªï¼‰
- [x] æ‰‹åŠ¨APIç¬¦åˆè§„èŒƒï¼ˆBç±»4ä¸ªï¼‰
- [x] APIè§„èŒƒæ–‡æ¡£å®Œæˆ

#### ç¬¬7-8å‘¨ï¼šP1-æ€§èƒ½ä¼˜åŒ– + éªŒæ”¶

**ç›®æ ‡ï¼š** æ‰“åŒ…ä½“ç§¯å‡å°‘30%ï¼Œé¦–å±åŠ è½½â‰¤2s

**ç¬¬7å‘¨ï¼š**

| ä»»åŠ¡ | è´Ÿè´£äºº | å·¥æ—¶ | äº¤ä»˜ç‰© | æ£€æŸ¥ç‚¹ |
|------|--------|------|--------|--------|
| Element PlusæŒ‰éœ€å¯¼å…¥ | å‰ç«¯ | 2å¤© | é…ç½®+éªŒè¯ | âœ… å‡å°‘~700KB |
| EchartsæŒ‰éœ€å¯¼å…¥ | å‰ç«¯ | 1å¤© | é…ç½®+éªŒè¯ | âœ… å‡å°‘~300KB |
| æ‰“åŒ…é…ç½®ä¼˜åŒ– | å‰ç«¯ | 1å¤© | manualChunks | âœ… åˆ†åŒ…åˆç† |
| å…¶ä»–ä¼˜åŒ– | å‰ç«¯ | 1å¤© | å›¾ç‰‡æ‡’åŠ è½½ç­‰ | âœ… æ€§èƒ½æå‡ |

**ç¬¬8å‘¨ï¼š**

| ä»»åŠ¡ | è´Ÿè´£äºº | å·¥æ—¶ | äº¤ä»˜ç‰© | æ£€æŸ¥ç‚¹ |
|------|--------|------|--------|--------|
| Lighthouseå®¡è®¡ | å‰ç«¯ | 1å¤© | å®¡è®¡æŠ¥å‘Š | âœ… åˆ†æ•°â‰¥80 |
| æ‰“åŒ…åˆ†æ | å‰ç«¯ | 1å¤© | æ‰“åŒ…æŠ¥å‘Š | âœ… ä½“ç§¯-30% |
| æ€§èƒ½è°ƒä¼˜ | å‰ç«¯ | 2å¤© | ä¼˜åŒ–è¿­ä»£ | âœ… è¾¾æ ‡ |
| å…¨é¢éªŒæ”¶æµ‹è¯• | å‰ç«¯+æµ‹è¯• | 1å¤© | éªŒæ”¶æŠ¥å‘Š | âœ… é€šè¿‡ |

**å‘¨æœ«æ£€æŸ¥ç‚¹ï¼š**
- [x] Lighthouseæ€§èƒ½åˆ†æ•°â‰¥80
- [x] æ‰“åŒ…ä½“ç§¯å‡å°‘30%
- [x] é¦–å±åŠ è½½â‰¤2s
- [x] æ‰€æœ‰éªŒæ”¶æ ‡å‡†è¾¾æˆ

#### ç¬¬9-10å‘¨ï¼šç¼“å†²å’Œæ”¶å°¾

**ç›®æ ‡ï¼š** å¤„ç†é—ç•™é—®é¢˜ï¼Œå®Œå–„æ–‡æ¡£ï¼Œæœ€ç»ˆéªŒæ”¶

**ç¬¬9å‘¨ï¼š**

| ä»»åŠ¡ | è´Ÿè´£äºº | å·¥æ—¶ | äº¤ä»˜ç‰© | æ£€æŸ¥ç‚¹ |
|------|--------|------|--------|--------|
| å¤„ç†é—ç•™é—®é¢˜ | å‰ç«¯ | 2å¤© | é—®é¢˜æ¸…å• | âœ… å…¨éƒ¨è§£å†³ |
| è¡¥å……æµ‹è¯• | å‰ç«¯ | 1å¤© | æµ‹è¯•æ–‡ä»¶ | âœ… è¦†ç›–ç‡è¾¾æ ‡ |
| æ€§èƒ½å¾®è°ƒ | å‰ç«¯ | 1å¤© | æ€§èƒ½ä¼˜åŒ– | âœ… æŒ‡æ ‡è¾¾æ ‡ |
| æ–‡æ¡£å®Œå–„ | å‰ç«¯ | 1å¤© | æ–‡æ¡£æ›´æ–° | âœ… æ–‡æ¡£å®Œæ•´ |

**ç¬¬10å‘¨ï¼š**

| ä»»åŠ¡ | è´Ÿè´£äºº | å·¥æ—¶ | äº¤ä»˜ç‰© | æ£€æŸ¥ç‚¹ |
|------|--------|------|--------|--------|
| æœ€ç»ˆéªŒæ”¶æµ‹è¯• | å…¨å‘˜ | 2å¤© | éªŒæ”¶æŠ¥å‘Š | âœ… å…¨éƒ¨é€šè¿‡ |
| ä»£ç å®¡æŸ¥ | å‰ç«¯+åç«¯ | 1å¤© | å®¡æŸ¥æŠ¥å‘Š | âœ… æ— é—ç•™é—®é¢˜ |
| å‘å¸ƒå‡†å¤‡ | å‰ç«¯ | 1å¤© | å‘å¸ƒæ–‡æ¡£ | âœ… å¯å‘å¸ƒ |
| æ€»ç»“å’Œå¤ç›˜ | å…¨å‘˜ | 1å¤© | æ€»ç»“æ–‡æ¡£ | âœ… ç»éªŒæ²‰æ·€ |

**æœ€ç»ˆæ£€æŸ¥ç‚¹ï¼š**
- [x] æ‰€æœ‰P0é—®é¢˜è§£å†³
- [x] æ‰€æœ‰P1é—®é¢˜è§£å†³
- [x] éªŒæ”¶æ ‡å‡†100%è¾¾æˆ
- [x] æ–‡æ¡£å®Œæ•´
- [x] å¯å‘å¸ƒ

### 4.3 ä¾èµ–å…³ç³»å›¾

```
ç¬¬1-2å‘¨ï¼šæ¨¡å—å®Œæˆåº¦æå‡
    â†“
ç¬¬3-4å‘¨ï¼šæµ‹è¯•è¦†ç›–æå‡ï¼ˆä¾èµ–æ¨¡å—å®Œæˆï¼‰
    â†“
ç¬¬5-6å‘¨ï¼šAPIç»Ÿä¸€ï¼ˆç‹¬ç«‹è¿›è¡Œï¼‰
    â†“
ç¬¬7-8å‘¨ï¼šæ€§èƒ½ä¼˜åŒ–ï¼ˆä¾èµ–å‰é¢æ‰€æœ‰å·¥ä½œï¼‰
    â†“
ç¬¬9-10å‘¨ï¼šç¼“å†²å’Œæ”¶å°¾ï¼ˆä¾èµ–å‰é¢æ‰€æœ‰å·¥ä½œï¼‰
```

**å…³é”®è·¯å¾„ï¼š**
1. æ¨¡å—å®Œæˆåº¦ â†’ æµ‹è¯•è¦†ç›–ï¼ˆå¿…é¡»æŒ‰é¡ºåºï¼‰
2. APIç»Ÿä¸€å¯ç‹¬ç«‹è¿›è¡Œ
3. æ€§èƒ½ä¼˜åŒ–ä¾èµ–å‰é¢æ‰€æœ‰å·¥ä½œå®Œæˆ

### 4.4 èµ„æºåˆ†é…

**äººåŠ›éœ€æ±‚ï¼š**
- å‰ç«¯å¼€å‘ï¼š1äººï¼ˆå…¨ç¨‹ï¼‰
- åç«¯é…åˆï¼š0.5äººï¼ˆç¬¬5å‘¨è¯„ä¼°APIï¼‰
- æµ‹è¯•ï¼š0.5äººï¼ˆç¬¬3-4å‘¨ã€ç¬¬8å‘¨ï¼‰

**æ—¶é—´åˆ†é…ï¼š**
- å‰ç«¯å¼€å‘ï¼š10å‘¨ Ã— 40å°æ—¶ = 400å°æ—¶
- åç«¯é…åˆï¼š1å‘¨ Ã— 20å°æ—¶ = 20å°æ—¶
- æµ‹è¯•ï¼š3å‘¨ Ã— 20å°æ—¶ = 60å°æ—¶
- **æ€»è®¡ï¼š** 480å°æ—¶ï¼ˆçº¦60äººæ—¥ï¼‰

---

## é£é™©è¯„ä¼°ä¸åº”å¯¹

### 5.1 é£é™©è¯†åˆ«

**5.1.1 æ¨¡å—å¼€å‘è¶…æ—¶é£é™©**

**é£é™©æè¿°ï¼š**
- 11ä¸ªæœªå®Œæˆæ¨¡å—å¯èƒ½æ— æ³•åœ¨2å‘¨å†…å®Œæˆ
- åç«¯APIæœªå°±ç»ªå¯¼è‡´å‰ç«¯æ— æ³•å¼€å‘
- å¤æ‚ä¸šåŠ¡é€»è¾‘å®ç°è¶…æ—¶

**å¯èƒ½æ€§ï¼š** é«˜
**ä¸¥é‡ç¨‹åº¦ï¼š** é«˜
**å½±å“èŒƒå›´ï¼š** é¡¹ç›®å»¶æœŸ

**5.1.2 æµ‹è¯•è¦†ç›–ä¸è¶³é£é™©**

**é£é™©æè¿°ï¼š**
- æµ‹è¯•ç¼–å†™æ—¶é—´ä¸è¶³
- Mockæ•°æ®å‡†å¤‡ä¸å……åˆ†
- æµ‹è¯•åŸºç¡€è®¾æ–½æ­å»ºè¶…æ—¶

**å¯èƒ½æ€§ï¼š** ä¸­
**ä¸¥é‡ç¨‹åº¦ï¼š** é«˜
**å½±å“èŒƒå›´ï¼š** è´¨é‡æ— æ³•ä¿éšœ

**5.1.3 APIé…ç½®é”™è¯¯é£é™©**

**é£é™©æè¿°ï¼š**
- Orvalé…ç½®é”™è¯¯å¯¼è‡´ç”Ÿæˆå¤±è´¥
- æ‰‹åŠ¨APIç±»å‹å®šä¹‰é”™è¯¯
- åç«¯APIå˜æ›´å¯¼è‡´å‰ç«¯æŠ¥é”™

**å¯èƒ½æ€§ï¼š** ä½
**ä¸¥é‡ç¨‹åº¦ï¼š** ä¸­
**å½±å“èŒƒå›´ï¼š** ç±»å‹é”™è¯¯ã€è¿è¡Œæ—¶é”™è¯¯

**5.1.4 æ€§èƒ½ä¼˜åŒ–å¤±æ•ˆé£é™©**

**é£é™©æè¿°ï¼š**
- æŒ‰éœ€å¯¼å…¥é…ç½®é”™è¯¯
- æ‰“åŒ…ä¼˜åŒ–æ•ˆæœä¸æ˜æ˜¾
- Lighthouseåˆ†æ•°ä¸è¾¾æ ‡

**å¯èƒ½æ€§ï¼š** ä½
**ä¸¥é‡ç¨‹åº¦ï¼š** ä¸­
**å½±å“èŒƒå›´ï¼š** æ€§èƒ½æå‡ä¸æ˜æ˜¾

**5.1.5 åç«¯APIæœªå°±ç»ªé£é™©**

**é£é™©æè¿°ï¼š**
- åç«¯APIå¼€å‘è¿›åº¦æ»å
- APIè§„æ ¼ä¸ç¬¦åˆå‰ç«¯éœ€æ±‚
- Mockæ•°æ®ä¸å®é™…APIä¸ä¸€è‡´

**å¯èƒ½æ€§ï¼š** ä¸­
**ä¸¥é‡ç¨‹åº¦ï¼š** ä¸­
**å½±å“èŒƒå›´ï¼š** æ¨¡å—æ— æ³•å®Œæˆ

### 5.2 é£é™©è¯„ä¼°çŸ©é˜µ

| é£é™©é¡¹ | ä¸¥é‡ç¨‹åº¦ | å¯èƒ½æ€§ | é£é™©ç­‰çº§ | å½±å“èŒƒå›´ |
|--------|----------|--------|----------|----------|
| æ¨¡å—å¼€å‘è¶…æ—¶ | é«˜ | é«˜ | ğŸ”´ é«˜ | é¡¹ç›®å»¶æœŸ |
| æµ‹è¯•è¦†ç›–ä¸è¶³ | é«˜ | ä¸­ | ğŸŸ¡ ä¸­ | è´¨é‡æ— æ³•ä¿éšœ |
| APIé…ç½®é”™è¯¯ | ä¸­ | ä½ | ğŸŸ¢ ä½ | ç±»å‹é”™è¯¯ |
| æ€§èƒ½ä¼˜åŒ–å¤±æ•ˆ | ä¸­ | ä½ | ğŸŸ¢ ä½ | æ€§èƒ½æå‡ä¸æ˜æ˜¾ |
| åç«¯APIæœªå°±ç»ª | ä¸­ | ä¸­ | ğŸŸ¡ ä¸­ | æ¨¡å—æ— æ³•å®Œæˆ |

**é£é™©ç­‰çº§å®šä¹‰ï¼š**
- ğŸ”´ é«˜é£é™©ï¼šå¿…é¡»åˆ¶å®šè¯¦ç»†åº”å¯¹è®¡åˆ’
- ğŸŸ¡ ä¸­é£é™©ï¼šéœ€è¦å…³æ³¨å’Œå‡†å¤‡
- ğŸŸ¢ ä½é£é™©ï¼šå¯ä»¥æ¥å—

### 5.3 åº”å¯¹æªæ–½

#### 5.3.1 æ¨¡å—å¼€å‘è¶…æ—¶åº”å¯¹

**æªæ–½1ï¼šæœ€å°å¯è¡Œå®ç°ï¼ˆMVPï¼‰**
- ä¼˜å…ˆå®Œæˆæ ¸å¿ƒåŠŸèƒ½ï¼ˆåˆ—è¡¨+è¯¦æƒ…ï¼‰
- éæ ¸å¿ƒåŠŸèƒ½å»¶ååˆ°ç¬¬9-10å‘¨
- ä½¿ç”¨Mockæ•°æ®ä»£æ›¿çœŸå®API

**æªæ–½2ï¼šä¼˜å…ˆçº§è°ƒæ•´**
- P0æ¨¡å—å¿…é¡»å®Œæˆï¼ˆbooklist, discoveryï¼‰
- P1æ¨¡å—å¯é™ä½å®Œæˆåº¦ï¼ˆ40%å³å¯ï¼‰
- P2æ¨¡å—å¯å»¶åå¤„ç†

**æªæ–½3ï¼šèµ„æºè°ƒé…**
- å¦‚é‡è¶…æ—¶ï¼Œä»ç¬¬9-10å‘¨ç¼“å†²æ—¶é—´è¡¥å……
- å¿…è¦æ—¶å¢åŠ äººåŠ›æŠ•å…¥

**æªæ–½4ï¼šè„šæ‰‹æ¶æ¨¡æ¿åŒ–**
- åˆ›å»ºæ¨¡å—è„šæ‰‹æ¶ï¼Œå‡å°‘é‡å¤å·¥ä½œ
- å¤ç”¨è®¾è®¡ç³»ç»Ÿç»„ä»¶
- ä½¿ç”¨ä»£ç ç”Ÿæˆå·¥å…·

#### 5.3.2 æµ‹è¯•è¦†ç›–ä¸è¶³åº”å¯¹

**æªæ–½1ï¼šæ¸è¿›å¼æµ‹è¯•ç­–ç•¥**
- L1ï¼ˆå¿…é¡»ï¼‰ï¼šæ ¸å¿ƒä¸šåŠ¡æµç¨‹E2Eæµ‹è¯•
- L2ï¼ˆé‡è¦ï¼‰ï¼šç»„ä»¶å•å…ƒæµ‹è¯•50%+
- L3ï¼ˆå¯é€‰ï¼‰ï¼šå·¥å…·å‡½æ•°æµ‹è¯•80%+

**æªæ–½2ï¼šæµ‹è¯•åŸºç¡€è®¾æ–½**
- æå‰æ­å»ºæµ‹è¯•ç¯å¢ƒ
- å‡†å¤‡å……è¶³çš„Mockæ•°æ®
- å»ºç«‹æµ‹è¯•å·¥å…·å‡½æ•°åº“

**æªæ–½3ï¼šæµ‹è¯•ä¼˜å…ˆçº§**
- ä¼˜å…ˆæµ‹è¯•75%å®Œæˆæ¨¡å—ï¼ˆå·²æœ‰åŸºç¡€ï¼‰
- ä¸ºæ–°å®Œæˆæ¨¡å—æ·»åŠ åŸºç¡€æµ‹è¯•
- é—ç•™æµ‹è¯•å¯å»¶å

**æªæ–½4ï¼šè‡ªåŠ¨åŒ–æµ‹è¯•**
- ä½¿ç”¨CI/CDè‡ªåŠ¨è¿è¡Œæµ‹è¯•
- å®šæœŸç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
- è®¾ç½®è¦†ç›–ç‡é—¨ç¦

#### 5.3.3 APIé…ç½®é”™è¯¯åº”å¯¹

**æªæ–½1ï¼šä¸¥æ ¼type-check**
```bash
# æ¯æ¬¡æäº¤å‰è¿è¡Œ
npm run type-check
```

**æªæ–½2ï¼šé€æ¨¡å—éªŒè¯**
- æ¯é…ç½®ä¸€ä¸ªæ¨¡å—ç«‹å³éªŒè¯
- è¿è¡Œç›¸å…³æµ‹è¯•ç¡®ä¿æ­£ç¡®
- æ£€æŸ¥ç”Ÿæˆçš„APIæ–‡ä»¶

**æªæ–½3ï¼šæ‰‹åŠ¨APIè§„èŒƒ**
- å»ºç«‹è¯¦ç»†çš„APIè§„èŒƒæ–‡æ¡£
- ä½¿ç”¨JSDocæ³¨é‡Š
- éµå¾ªç»Ÿä¸€å‘½åè§„èŒƒ

**æªæ–½4ï¼šç‰ˆæœ¬æ§åˆ¶**
- Gitåˆ†æ”¯ç®¡ç†ï¼Œæ¯ä¸ªæ¨¡å—ç‹¬ç«‹åˆ†æ”¯
- ä¿ç•™åŸæœ‰æ‰‹åŠ¨APIä½œä¸ºå¤‡ä»½
- é€æ­¥è¿ç§»ï¼Œå¯éšæ—¶å›æ»š

#### 5.3.4 æ€§èƒ½ä¼˜åŒ–å¤±æ•ˆåº”å¯¹

**æªæ–½1ï¼šåŸºå‡†æµ‹è¯•**
- ä¼˜åŒ–å‰è®°å½•åŸºå‡†æ•°æ®
- é€æ­¥ä¼˜åŒ–ï¼Œæ¯æ¬¡éªŒè¯æ•ˆæœ
- ä½¿ç”¨Lighthouseå’Œæ‰“åŒ…åˆ†æå·¥å…·

**æªæ–½2ï¼šåˆ†æ­¥ä¼˜åŒ–**
1. Element PlusæŒ‰éœ€å¯¼å…¥ï¼ˆéªŒè¯~700KBå‡å°‘ï¼‰
2. EchartsæŒ‰éœ€å¯¼å…¥ï¼ˆéªŒè¯~300KBå‡å°‘ï¼‰
3. æ‰“åŒ…é…ç½®ä¼˜åŒ–ï¼ˆéªŒè¯åˆ†åŒ…æ•ˆæœï¼‰
4. å…¶ä»–ä¼˜åŒ–ï¼ˆå›¾ç‰‡æ‡’åŠ è½½ç­‰ï¼‰

**æªæ–½3ï¼šé…ç½®åˆ‡æ¢**
- ä¿ç•™ä¼˜åŒ–å‰é…ç½®
- ä½¿ç”¨ç¯å¢ƒå˜é‡æ§åˆ¶
- å¯éšæ—¶å›æ»š

**æªæ–½4ï¼šæŒç»­ç›‘æ§**
- å®šæœŸè¿è¡ŒLighthouseå®¡è®¡
- ç›‘æ§æ‰“åŒ…ä½“ç§¯å˜åŒ–
- è®°å½•æ€§èƒ½æŒ‡æ ‡

#### 5.3.5 åç«¯APIæœªå°±ç»ªåº”å¯¹

**æªæ–½1ï¼šMockæ•°æ®**
- ä½¿ç”¨å‰ç«¯Mockæ•°æ®
- å»ºç«‹MockæœåŠ¡å™¨
- ä¸åç«¯çº¦å®šAPIè§„æ ¼

**æªæ–½2ï¼šæ‰‹åŠ¨APIé¢„ç•™**
```typescript
// TODO: å¾…åç«¯APIå®ç°åï¼Œä½¿ç”¨Orvalè‡ªåŠ¨ç”Ÿæˆ
export const getAnnouncements = async () => {
  // Mockå®ç°
  return mockAnnouncements
}
```

**æªæ–½3ï¼šBç±»æ¨¡å—å¤„ç†æ–¹æ¡ˆ**
- å¯¹äºæ— åç«¯APIçš„æ¨¡å—ï¼Œä½¿ç”¨æ‰‹åŠ¨API
- å»ºç«‹APIè§„èŒƒæ–‡æ¡£
- é¢„ç•™è¿ç§»è·¯å¾„

**æªæ–½4ï¼šå‰åç«¯åä½œ**
- ç¬¬5å‘¨å‰ç¡®è®¤åç«¯APIçŠ¶æ€
- å®šæœŸåŒæ­¥è¿›åº¦
- ä½¿ç”¨APIæ–‡æ¡£ï¼ˆSwaggerï¼‰ä½œä¸ºå¥‘çº¦

### 5.4 å›æ»šæ–¹æ¡ˆ

#### 5.4.1 Gitåˆ†æ”¯ç®¡ç†

```
mainï¼ˆä¸»åˆ†æ”¯ï¼‰
â”œâ”€â”€ feature/tech-debt-module-completionï¼ˆæ¨¡å—å®Œæˆåº¦ï¼‰
â”œâ”€â”€ feature/tech-debt-test-coverageï¼ˆæµ‹è¯•è¦†ç›–ï¼‰
â”œâ”€â”€ feature/tech-debt-api-unificationï¼ˆAPIç»Ÿä¸€ï¼‰
â””â”€â”€ feature/tech-debt-performanceï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰
```

**æ¯ä¸ªåŠŸèƒ½ç‹¬ç«‹åˆ†æ”¯ï¼Œä¾¿äºå›æ»šï¼š**
```bash
# å¦‚æœæŸä¸ªåŠŸèƒ½å‡ºç°é—®é¢˜ï¼Œå›æ»šè¯¥åˆ†æ”¯
git revert <commit-hash>

# æˆ–è€…é‡ç½®åˆ°è¯¥åˆ†æ”¯ä¹‹å‰
git reset --hard <before-feature-branch>
```

#### 5.4.2 é…ç½®åˆ‡æ¢

**æ€§èƒ½ä¼˜åŒ–é…ç½®åˆ‡æ¢ï¼š**
```typescript
// vite.config.ts
const useOptimizedConfig = process.env.USE_OPTIMIZED === 'true'

export default defineConfig({
  build: {
    rollupOptions: {
      output: {
        manualChunks: useOptimizedConfig ? optimizedChunks : defaultChunks
      }
    }
  }
})
```

**ç¯å¢ƒå˜é‡æ§åˆ¶ï¼š**
```bash
# ä½¿ç”¨ä¼˜åŒ–é…ç½®
export USE_OPTIMIZED=true
npm run build

# ä½¿ç”¨é»˜è®¤é…ç½®
export USE_OPTIMIZED=false
npm run build
```

#### 5.4.3 æ•°æ®å¤‡ä»½

**ä¼˜åŒ–å‰å¤‡ä»½ï¼š**
```bash
# 1. åˆ›å»ºå¤‡ä»½åˆ†æ”¯
git checkout -b backup/before-optimization
git push origin backup/before-optimization

# 2. å¤‡ä»½é…ç½®æ–‡ä»¶
cp vite.config.ts vite.config.ts.backup
cp orval.config.ts orval.config.ts.backup

# 3. è®°å½•åŸºå‡†æ•°æ®
npm run build
npx vite-bundle-visualizer dist
# ä¿å­˜åŸºå‡†æŠ¥å‘Š
```

**å›æ»šæ­¥éª¤ï¼š**
```bash
# 1. åˆ‡æ¢åˆ°å¤‡ä»½åˆ†æ”¯
git checkout backup/before-optimization

# 2. æ¢å¤é…ç½®æ–‡ä»¶
cp vite.config.ts.backup vite.config.ts

# 3. é‡æ–°æ„å»º
npm run build

# 4. éªŒè¯åŠŸèƒ½
npm run test
```

---

## éªŒæ”¶æ ‡å‡†

### 6.1 åŠŸèƒ½éªŒæ”¶

#### 6.1.1 æ¨¡å—å®Œæˆåº¦éªŒæ”¶

**æœ€ä½æ ‡å‡†ï¼ˆå¿…é¡»æ»¡è¶³ï¼‰ï¼š**
- [x] 11ä¸ªæœªå®Œæˆæ¨¡å—å®Œæˆåº¦æå‡è‡³50%+
- [x] æ‰€æœ‰æ¨¡å—è·¯ç”±é…ç½®å®Œæˆï¼Œæ— æ³¨é‡Šè·¯ç”±
- [x] æ‰€æœ‰æ¨¡å—åŸºç¡€åŠŸèƒ½å¯è®¿é—®ï¼ˆæ— 404é”™è¯¯ï¼‰
- [x] P0æ¨¡å—ï¼ˆbooklist, discoveryï¼‰å®Œæˆåº¦â‰¥50%
- [x] P1æ¨¡å—ï¼ˆcommunity, review, reading-statsï¼‰å®Œæˆåº¦â‰¥40%

**éªŒæ”¶æ–¹å¼ï¼š**
```bash
# 1. æ£€æŸ¥è·¯ç”±é…ç½®
cat src/router/index.ts | grep "import.*Routes"

# 2. è®¿é—®æ‰€æœ‰æ¨¡å—è·¯ç”±
for route in booklist discovery community review reading-stats; do
  curl http://localhost:5173/$route
done

# 3. æ£€æŸ¥ç»„ä»¶å’Œè§†å›¾
find src/modules -name "*.vue" | wc -l  # åº”å¢åŠ 50+ä¸ªæ–‡ä»¶
```

**ä¸€èˆ¬æ ‡å‡†ï¼ˆæœŸæœ›è¾¾åˆ°ï¼‰ï¼š**
- [x] P2æ¨¡å—ï¼ˆvip, achievementï¼‰å®Œæˆåº¦â‰¥30%
- [x] P3æ¨¡å—åŸºç¡€åŠŸèƒ½å¯ç”¨
- [x] æ‰€æœ‰æ¨¡å—æœ‰å®Œæ•´çš„CRUDåŠŸèƒ½

#### 6.1.2 æµ‹è¯•è¦†ç›–éªŒæ”¶

**æœ€ä½æ ‡å‡†ï¼ˆå¿…é¡»æ»¡è¶³ï¼‰ï¼š**
- [x] ä¸šåŠ¡æ¨¡å—æµ‹è¯•è¦†ç›–ç‡â‰¥50%
- [x] E2Eæµ‹è¯•è¦†ç›–æ ¸å¿ƒä¸šåŠ¡æµç¨‹
- [x] æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼ˆæ— å¤±è´¥ï¼‰
- [x] 75%å®Œæˆæ¨¡å—å•å…ƒæµ‹è¯•è¦†ç›–ç‡â‰¥60%
- [x] æ–°å®Œæˆæ¨¡å—å•å…ƒæµ‹è¯•è¦†ç›–ç‡â‰¥50%

**éªŒæ”¶æ–¹å¼ï¼š**
```bash
# 1. è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm run test

# 2. ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage

# 3. æ£€æŸ¥è¦†ç›–ç‡
cat coverage/coverage-summary.json
# åº”è¯¥çœ‹åˆ°ä¸šåŠ¡æ¨¡å—è¦†ç›–ç‡â‰¥50%
```

**ä¸€èˆ¬æ ‡å‡†ï¼ˆæœŸæœ›è¾¾åˆ°ï¼‰ï¼š**
- [x] ä¸šåŠ¡æ¨¡å—æµ‹è¯•è¦†ç›–ç‡â‰¥60%
- [x] 50%å®Œæˆæ¨¡å—å•å…ƒæµ‹è¯•è¦†ç›–ç‡â‰¥40%
- [x] å·¥å…·å‡½æ•°æµ‹è¯•è¦†ç›–ç‡â‰¥80%

#### 6.1.3 APIç»Ÿä¸€éªŒæ”¶

**æœ€ä½æ ‡å‡†ï¼ˆå¿…é¡»æ»¡è¶³ï¼‰ï¼š**
- [x] APIé…ç½®è¦†ç›–ç‡100%ï¼ˆ21/21æ¨¡å—ï¼‰
- [x] Aç±»æ¨¡å—ï¼ˆ8ä¸ªï¼‰é…ç½®Orvalè‡ªåŠ¨ç”Ÿæˆ
- [x] Bç±»æ¨¡å—ï¼ˆ4ä¸ªï¼‰å»ºç«‹æ‰‹åŠ¨APIè§„èŒƒ
- [x] æ‰€æœ‰APIé€šè¿‡type-checkï¼ˆæ— ç±»å‹é”™è¯¯ï¼‰
- [x] APIè§„èŒƒæ–‡æ¡£å®Œæˆ

**éªŒæ”¶æ–¹å¼ï¼š**
```bash
# 1. æ£€æŸ¥Orvalé…ç½®
cat orval.config.ts | grep "createOrvalProject"
# åº”è¯¥çœ‹åˆ°17ä¸ªæ¨¡å—ï¼ˆ9ä¸ªå·²æœ‰+8ä¸ªæ–°å¢ï¼‰

# 2. æ£€æŸ¥ç”Ÿæˆçš„APIæ–‡ä»¶
find src/modules -path "*/api/generated/*.ts" | wc -l
# åº”è¯¥â‰¥17ä¸ªæ–‡ä»¶

# 3. è¿è¡Œtype-check
npm run type-check
# åº”è¯¥æ— é”™è¯¯

# 4. æ£€æŸ¥æ‰‹åŠ¨API
find src/modules -path "*/api/manual/*.ts" | wc -l
# åº”è¯¥â‰¥4ä¸ªæ–‡ä»¶
```

**ä¸€èˆ¬æ ‡å‡†ï¼ˆæœŸæœ›è¾¾åˆ°ï¼‰ï¼š**
- [x] APIæ–‡æ¡£å®Œæ•´ï¼ˆåŒ…å«æ‰€æœ‰ç«¯ç‚¹ï¼‰
- [x] APIæµ‹è¯•è¦†ç›–â‰¥70%
- [x] Mockæ•°æ®å®Œæ•´

### 6.2 æ€§èƒ½éªŒæ”¶

#### 6.2.1 æ‰“åŒ…ä½“ç§¯éªŒæ”¶

**æœ€ä½æ ‡å‡†ï¼ˆå¿…é¡»æ»¡è¶³ï¼‰ï¼š**
- [x] æ‰“åŒ…ä½“ç§¯å‡å°‘â‰¥30%ï¼ˆä»~2MBåˆ°~1.4MBï¼‰
- [x] Element Pluså‡å°‘~700KBï¼ˆä»~800KBåˆ°~100KBï¼‰
- [x] Echartså‡å°‘~300KBï¼ˆä»~400KBåˆ°~100KBï¼‰

**éªŒæ”¶æ–¹å¼ï¼š**
```bash
# 1. æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# 2. åˆ†ææ‰“åŒ…ä½“ç§¯
npx vite-bundle-visualizer dist

# 3. æ£€æŸ¥distç›®å½•å¤§å°
du -sh dist
# åº”è¯¥â‰¤1.5MB

# 4. æ£€æŸ¥chunkå¤§å°
ls -lh dist/assets/*.js
# element-plus chunkåº”è¯¥â‰¤150KB
# echarts chunkåº”è¯¥â‰¤150KB
```

**ä¸€èˆ¬æ ‡å‡†ï¼ˆæœŸæœ›è¾¾åˆ°ï¼‰ï¼š**
- [x] æ‰“åŒ…ä½“ç§¯å‡å°‘â‰¥40%
- [x] ä¸»åŒ…ä½“ç§¯â‰¤500KB
- [x] æ‰€æœ‰chunkâ‰¤500KB

#### 6.2.2 LighthouseéªŒæ”¶

**æœ€ä½æ ‡å‡†ï¼ˆå¿…é¡»æ»¡è¶³ï¼‰ï¼š**
- [x] Lighthouseæ€§èƒ½åˆ†æ•°â‰¥80
- [x] FCPï¼ˆFirst Contentful Paintï¼‰â‰¤1.5s
- [x] LCPï¼ˆLargest Contentful Paintï¼‰â‰¤2.5s

**éªŒæ”¶æ–¹å¼ï¼š**
```bash
# 1. å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm run preview

# 2. è¿è¡ŒLighthouseå®¡è®¡
npx lighthouse http://localhost:4173 --view

# 3. æ£€æŸ¥åˆ†æ•°
# Performance: â‰¥80
# Accessibility: â‰¥90
# Best Practices: â‰¥90
# SEO: â‰¥80
```

**ä¸€èˆ¬æ ‡å‡†ï¼ˆæœŸæœ›è¾¾åˆ°ï¼‰ï¼š**
- [x] Lighthouseæ€§èƒ½åˆ†æ•°â‰¥85
- [x] FCPâ‰¤1.2s
- [x] LCPâ‰¤2.0s
- [x] TTIï¼ˆTime to Interactiveï¼‰â‰¤3.0s

#### 6.2.3 é¦–å±åŠ è½½éªŒæ”¶

**æœ€ä½æ ‡å‡†ï¼ˆå¿…é¡»æ»¡è¶³ï¼‰ï¼š**
- [x] é¦–å±åŠ è½½æ—¶é—´â‰¤2sï¼ˆFast 3Gç½‘ç»œï¼‰
- [x] é¦–æ¬¡å†…å®¹ç»˜åˆ¶â‰¤1.5s
- [x] å¯äº¤äº’æ—¶é—´â‰¤3.0s

**éªŒæ”¶æ–¹å¼ï¼š**
```bash
# 1. ä½¿ç”¨Chrome DevTools
# æ‰“å¼€ Network é¢æ¿ï¼Œé€‰æ‹© "Fast 3G"
# åˆ·æ–°é¡µé¢ï¼Œè®°å½•åŠ è½½æ—¶é—´

# 2. ä½¿ç”¨Lighthouse
npx lighthouse http://localhost:4173 --throttling-method=devtools

# 3. æ£€æŸ¥æŒ‡æ ‡
# FCP: â‰¤1.5s
# LCP: â‰¤2.5s
# TTI: â‰¤3.0s
```

**ä¸€èˆ¬æ ‡å‡†ï¼ˆæœŸæœ›è¾¾åˆ°ï¼‰ï¼š**
- [x] é¦–å±åŠ è½½æ—¶é—´â‰¤1.5s
- [x] é¦–æ¬¡å†…å®¹ç»˜åˆ¶â‰¤1.0s
- [x] å¯äº¤äº’æ—¶é—´â‰¤2.5s

### 6.3 æµ‹è¯•éªŒæ”¶

#### 6.3.1 å•å…ƒæµ‹è¯•éªŒæ”¶

**æœ€ä½æ ‡å‡†ï¼ˆå¿…é¡»æ»¡è¶³ï¼‰ï¼š**
- [x] æ‰€æœ‰å•å…ƒæµ‹è¯•é€šè¿‡
- [x] ä¸šåŠ¡æ¨¡å—æµ‹è¯•è¦†ç›–ç‡â‰¥50%
- [x] æ— è·³è¿‡çš„æµ‹è¯•ï¼ˆskip pendingï¼‰

**éªŒæ”¶æ–¹å¼ï¼š**
```bash
# 1. è¿è¡Œå•å…ƒæµ‹è¯•
npm run test:unit

# 2. ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage

# 3. æ£€æŸ¥è¦†ç›–ç‡
cat coverage/coverage-summary.json
# ä¸šåŠ¡æ¨¡å—è¦†ç›–ç‡â‰¥50%

# 4. æ£€æŸ¥æµ‹è¯•çŠ¶æ€
npm run test:unit -- --reporter=verbose
# åº”è¯¥æ— å¤±è´¥ã€æ— è·³è¿‡
```

**ä¸€èˆ¬æ ‡å‡†ï¼ˆæœŸæœ›è¾¾åˆ°ï¼‰ï¼š**
- [x] ä¸šåŠ¡æ¨¡å—æµ‹è¯•è¦†ç›–ç‡â‰¥60%
- [x] ç»„ä»¶æµ‹è¯•è¦†ç›–ç‡â‰¥70%
- [x] Storeæµ‹è¯•è¦†ç›–ç‡â‰¥80%

#### 6.3.2 E2Eæµ‹è¯•éªŒæ”¶

**æœ€ä½æ ‡å‡†ï¼ˆå¿…é¡»æ»¡è¶³ï¼‰ï¼š**
- [x] æ‰€æœ‰E2Eæµ‹è¯•é€šè¿‡
- [x] æ ¸å¿ƒä¸šåŠ¡æµç¨‹è¦†ç›–ï¼ˆæ³¨å†Œâ†’æµè§ˆâ†’é˜…è¯»â†’ç¤¾äº¤ï¼‰
- [x] æ— flakyæµ‹è¯•ï¼ˆä¸ç¨³å®šçš„æµ‹è¯•ï¼‰

**éªŒæ”¶æ–¹å¼ï¼š**
```bash
# 1. è¿è¡ŒE2Eæµ‹è¯•
npm run test:e2e

# 2. æ£€æŸ¥æµ‹è¯•ç»“æœ
# åº”è¯¥æ‰€æœ‰æµ‹è¯•é€šè¿‡

# 3. è¿è¡Œç‰¹å®šæµç¨‹æµ‹è¯•
npm run test:e2e -- tests/e2e/reader-flow.spec.ts
npm run test:e2e -- tests/e2e/writer-flow.spec.ts
npm run test:e2e -- tests/e2e/social-flow.spec.ts
```

**ä¸€èˆ¬æ ‡å‡†ï¼ˆæœŸæœ›è¾¾åˆ°ï¼‰ï¼š**
- [x] E2Eæµ‹è¯•è¦†ç›–æ‰€æœ‰æ ¸å¿ƒæµç¨‹
- [x] E2Eæµ‹è¯•æ•°é‡â‰¥20ä¸ª
- [x] æµ‹è¯•è¿è¡Œæ—¶é—´â‰¤5åˆ†é’Ÿ

### 6.4 ä»£ç è´¨é‡éªŒæ”¶

#### 6.4.1 TypeScriptéªŒæ”¶

**æœ€ä½æ ‡å‡†ï¼ˆå¿…é¡»æ»¡è¶³ï¼‰ï¼š**
- [x] type-checké€šè¿‡ï¼ˆæ— é”™è¯¯ï¼‰
- [x] æ— anyç±»å‹ï¼ˆé™¤éå¿…è¦ä¸”æœ‰æ³¨é‡Šï¼‰
- [x] æ‰€æœ‰APIæœ‰ç±»å‹å®šä¹‰

**éªŒæ”¶æ–¹å¼ï¼š**
```bash
# 1. è¿è¡Œtype-check
npm run type-check

# 2. åº”è¯¥æ— é”™è¯¯
# 3. æ£€æŸ¥anyä½¿ç”¨
grep -r "any" src/modules --include="*.ts" --include="*.vue"
# åº”è¯¥å¾ˆå°‘ï¼ˆä»…å¿…è¦å¤„ï¼‰
```

**ä¸€èˆ¬æ ‡å‡†ï¼ˆæœŸæœ›è¾¾åˆ°ï¼‰ï¼š**
- [x] å¯ç”¨strictæ¨¡å¼
- [x] æ‰€æœ‰å¯¼å‡ºæœ‰ç±»å‹å®šä¹‰
- [x] æ— ts-ignore

#### 6.4.2 ä»£ç è§„èŒƒéªŒæ”¶

**æœ€ä½æ ‡å‡†ï¼ˆå¿…é¡»æ»¡è¶³ï¼‰ï¼š**
- [x] ESLintæ£€æŸ¥é€šè¿‡ï¼ˆæ— é”™è¯¯ï¼‰
- [x] Prettieræ ¼å¼åŒ–é€šè¿‡
- [x] ä»£ç é£æ ¼ä¸€è‡´

**éªŒæ”¶æ–¹å¼ï¼š**
```bash
# 1. è¿è¡ŒESLint
npm run lint

# 2. è¿è¡ŒPrettier
npm run format:check

# 3. åº”è¯¥æ— é”™è¯¯
```

**ä¸€èˆ¬æ ‡å‡†ï¼ˆæœŸæœ›è¾¾åˆ°ï¼‰ï¼š**
- [x] æ— ESLintè­¦å‘Š
- [x] ä»£ç å¤æ‚åº¦åˆç†
- [x] å‘½åè§„èŒƒç»Ÿä¸€

#### 6.4.3 æ–‡æ¡£éªŒæ”¶

**æœ€ä½æ ‡å‡†ï¼ˆå¿…é¡»æ»¡è¶³ï¼‰ï¼š**
- [x] APIè§„èŒƒæ–‡æ¡£å®Œæˆ
- [x] æ¨¡å—ä½¿ç”¨æ–‡æ¡£å®Œæˆ
- [x] æµ‹è¯•æ–‡æ¡£å®Œæˆ

**éªŒæ”¶æ–¹å¼ï¼š**
```bash
# 1. æ£€æŸ¥æ–‡æ¡£
ls -la docs/
# åº”è¯¥æœ‰ï¼š
# - api-standards.md
# - module-guide.md
# - testing-guide.md

# 2. æ£€æŸ¥æ–‡æ¡£è´¨é‡
# åº”è¯¥æœ‰å®Œæ•´çš„ç¤ºä¾‹å’Œè¯´æ˜
```

**ä¸€èˆ¬æ ‡å‡†ï¼ˆæœŸæœ›è¾¾åˆ°ï¼‰ï¼š**
- [x] æ‰€æœ‰æ¨¡å—æœ‰README
- [x] ç»„ä»¶æœ‰Storybookæ–‡æ¡£
- [x] APIæœ‰JSDocæ³¨é‡Š

### 6.5 éªŒæ”¶æ€»ç»“

**é€šè¿‡æ ‡å‡†ï¼š**
- æœ€ä½æ ‡å‡†100%è¾¾æˆ âœ…
- ä¸€èˆ¬æ ‡å‡†â‰¥80%è¾¾æˆ âœ…
- æ— P0/P1é—ç•™é—®é¢˜ âœ…

**éªŒæ”¶æµç¨‹ï¼š**
1. å¼€å‘å›¢é˜Ÿè‡ªéªŒæ”¶ï¼ˆç¬¬8å‘¨ï¼‰
2. æµ‹è¯•å›¢é˜ŸéªŒæ”¶ï¼ˆç¬¬8å‘¨ï¼‰
3. äº§å“ç»ç†éªŒæ”¶ï¼ˆç¬¬10å‘¨ï¼‰
4. æœ€ç»ˆå‘å¸ƒï¼ˆç¬¬10å‘¨ï¼‰

**éªŒæ”¶æŠ¥å‘Šï¼š**
```markdown
# æŠ€æœ¯å€ºåŠ¡æ¸…ç†éªŒæ”¶æŠ¥å‘Š

## éªŒæ”¶æ—¥æœŸ
2026-03-31

## éªŒæ”¶ç»“æœ
âœ… é€šè¿‡

## è¯¦ç»†æŒ‡æ ‡
- æ¨¡å—å®Œæˆåº¦ï¼š43% â†’ 75%
- æµ‹è¯•è¦†ç›–ç‡ï¼š<10% â†’ 55%
- APIé…ç½®ç‡ï¼š43% â†’ 100%
- æ‰“åŒ…ä½“ç§¯ï¼š~2MB â†’ ~1.4MBï¼ˆ-30%ï¼‰
- Lighthouseï¼š65 â†’ 82ï¼ˆ+17åˆ†ï¼‰

## é—ç•™é—®é¢˜
æ— 

## ä¸‹ä¸€æ­¥è®¡åˆ’
- æŒç»­æå‡æµ‹è¯•è¦†ç›–ç‡è‡³70%+
- å®ŒæˆP2/P3æ¨¡å—å¼€å‘
- æ€§èƒ½æŒç»­ä¼˜åŒ–
```

---

## é™„å½•

### 7.1 æ¨¡å—å®Œæˆåº¦è¯¦ç»†æ¸…å•

| æ¨¡å— | å½“å‰å®Œæˆåº¦ | ç›®æ ‡å®Œæˆåº¦ | è·¯ç”± | API | ç»„ä»¶ | æµ‹è¯• | ä¼˜å…ˆçº§ | é¢„ä¼°å·¥æ—¶ |
|------|------------|------------|------|-----|------|------|--------|----------|
| **å·²é…ç½®Orvalï¼ˆ9ä¸ªï¼‰** |
| reader | 75% | 75% | âœ… | âœ… | âœ… | âŒ | - | - |
| bookstore | 100% | 100% | âœ… | âœ… | âœ… | âœ… | - | - |
| admin | 75% | 75% | âœ… | âœ… | âœ… | âŒ | - | - |
| writer | 75% | 75% | âœ… | âœ… | âœ… | âŒ | - | - |
| social | 50% | 50% | âœ… | âœ… | ? | âŒ | - | - |
| ai | 75% | 75% | âœ… | âœ… | âœ… | âŒ | - | - |
| finance | 50% | 50% | âœ… | âœ… | ? | âŒ | - | - |
| notification | 50% | 50% | âœ… | âœ… | ? | âŒ | - | - |
| **æœªé…ç½®Orvalï¼ˆ12ä¸ªï¼‰** |
| user | 50% | 50% | âœ… | âŒ | âœ… | âŒ | P1 | 0.5å¤© |
| achievement | 25% | 30% | âœ… | âŒ | ? | âŒ | P2 | 2-3å¤© |
| announcements | 0% | 30% | âŒ | âŒ | ? | âŒ | P3 | 1-2å¤© |
| **booklist** | **10%** | **50%** | **â¸ï¸** | **âŒ** | **?** | **âŒ** | **P0** | **3-5å¤©** |
| **community** | **10%** | **40%** | **â¸ï¸** | **âŒ** | **?** | **âŒ** | **P1** | **3-4å¤©** |
| **discovery** | **10%** | **50%** | **â¸ï¸** | **âŒ** | **?** | **âŒ** | **P0** | **3-5å¤©** |
| reading-stats | 10% | 40% | â¸ï¸ | âŒ | ? | âŒ | P1 | 2-3å¤© |
| recommendation | 0% | 30% | âŒ | âŒ | ? | âŒ | P3 | 3-5å¤© |
| **review** | **10%** | **40%** | **â¸ï¸** | **âŒ** | **?** | **âŒ** | **P1** | **2-3å¤©** |
| reward | 0% | 30% | âŒ | âŒ | ? | âŒ | P3 | 2-3å¤© |
| system | 0% | 30% | âŒ | âŒ | ? | âŒ | P3 | 2-3å¤© |
| vip | 10% | 30% | â¸ï¸ | âŒ | ? | âŒ | P2 | 2-3å¤© |
| **shared** | - | - | - | - | - | - | - | - |

**å›¾ä¾‹ï¼š**
- âœ… å·²å®Œæˆ
- â¸ï¸ å·²æ³¨é‡Š
- âŒ æœªå®Œæˆ
- ? æœªçŸ¥ï¼ˆéœ€è¦è°ƒæŸ¥ï¼‰

**æ ‡æ³¨ï¼š**
- **ç²—ä½“**è¡¨ç¤ºæœ¬æ¬¡ä¼˜åŒ–é‡ç‚¹æ¨¡å—ï¼ˆP0/P1ï¼‰
- P0æ¨¡å—ï¼šbooklistã€discoveryï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰
- P1æ¨¡å—ï¼šcommunityã€reviewã€reading-statsï¼ˆé‡è¦åŠŸèƒ½ï¼‰
- P2æ¨¡å—ï¼švipã€achievementï¼ˆæ¬¡è¦åŠŸèƒ½ï¼‰
- P3æ¨¡å—ï¼šannouncementsã€recommendationã€rewardã€systemï¼ˆå¯é€‰åŠŸèƒ½ï¼‰

### 7.2 APIé…ç½®æ¸…å•

| æ¨¡å— | Orvalé…ç½® | åç«¯API | å¤„ç†æ–¹æ¡ˆ | é¢„ä¼°å·¥æ—¶ |
|------|-----------|---------|----------|----------|
| **å·²é…ç½®ï¼ˆ9ä¸ªï¼‰** |
| reader | âœ… | âœ… | ä¿æŒç°çŠ¶ | - |
| bookstore | âœ… | âœ… | ä¿æŒç°çŠ¶ | - |
| admin | âœ… | âœ… | ä¿æŒç°çŠ¶ | - |
| writer | âœ… | âœ… | ä¿æŒç°çŠ¶ | - |
| social | âœ… | âœ… | ä¿æŒç°çŠ¶ | - |
| ai | âœ… | âœ… | ä¿æŒç°çŠ¶ | - |
| finance | âœ… | âœ… | ä¿æŒç°çŠ¶ | - |
| notification | âœ… | âœ… | ä¿æŒç°çŠ¶ | - |
| **æœªé…ç½®ï¼ˆ12ä¸ªï¼‰** |
| **user** | **âŒ** | **âœ…** | **é…ç½®Orval** | **0.5å¤©** |
| achievement | âŒ | âœ… | é…ç½®Orval | 0.5å¤© |
| **booklist** | **âŒ** | **âœ…** | **é…ç½®Orval** | **0.5å¤©** |
| **community** | **âŒ** | **âœ…** | **é…ç½®Orval** | **0.5å¤©** |
| **discovery** | **âŒ** | **âœ…** | **é…ç½®Orval** | **0.5å¤©** |
| reading-stats | âŒ | âœ… | é…ç½®Orval | 0.5å¤© |
| **review** | **âŒ** | **âœ…** | **é…ç½®Orval** | **0.5å¤©** |
| **vip** | **âŒ** | **âœ…** | **é…ç½®Orval** | **0.5å¤©** |
| **announcements** | **âŒ** | **âŒ** | **æ‰‹åŠ¨API** | **1å¤©** |
| **recommendation** | **âŒ** | **âŒ** | **æ‰‹åŠ¨API** | **1å¤©** |
| **reward** | **âŒ** | **âŒ** | **æ‰‹åŠ¨API** | **1å¤©** |
| **system** | **âŒ** | **âŒ** | **æ‰‹åŠ¨API** | **1å¤©** |

**åˆ†ç±»ï¼š**
- **Aç±»ï¼ˆæœ‰åç«¯APIï¼Œé…ç½®Orvalï¼‰ï¼š** 8ä¸ªï¼Œé¢„ä¼°4å¤©
- **Bç±»ï¼ˆæ— åç«¯APIï¼Œæ‰‹åŠ¨APIï¼‰ï¼š** 4ä¸ªï¼Œé¢„ä¼°4å¤©
- **æ€»è®¡ï¼š** 12ä¸ªæ¨¡å—ï¼Œé¢„ä¼°8å¤©ï¼ˆçº¦2å‘¨ï¼‰

**æ ‡æ³¨ï¼š**
- **ç²—ä½“**è¡¨ç¤ºæœ¬æ¬¡ä¼˜åŒ–é‡ç‚¹æ¨¡å—
- Aç±»æ¨¡å—ï¼šæ‰¹é‡é…ç½®Orval
- Bç±»æ¨¡å—ï¼šå»ºç«‹æ‰‹åŠ¨APIè§„èŒƒ

### 7.3 æµ‹è¯•è¦†ç›–ç›®æ ‡

| æ¨¡å—ç±»å‹ | æ¨¡å—æ•° | å½“å‰è¦†ç›–ç‡ | ç›®æ ‡è¦†ç›–ç‡ | æµ‹è¯•æ–‡ä»¶æ•° | é¢„ä¼°å·¥æ—¶ |
|----------|--------|------------|------------|------------|----------|
| **è®¾è®¡ç³»ç»Ÿ** | - | 80%+ | 80%+ | 27ä¸ª | - |
| **75%å®Œæˆæ¨¡å—ï¼ˆ5ä¸ªï¼‰** |
| reader | 1 | 0% | 60% | 3ä¸ª | 0.6å¤© |
| bookstore | 1 | 10% | 60% | 3ä¸ª | 0.5å¤© |
| admin | 1 | 0% | 60% | 3ä¸ª | 0.6å¤© |
| writer | 1 | 0% | 60% | 3ä¸ª | 0.6å¤© |
| ai | 1 | 0% | 60% | 3ä¸ª | 0.6å¤© |
| **å°è®¡** | **5ä¸ª** | **2%** | **60%** | **15ä¸ª** | **3å¤©** |
| **æ–°å®Œæˆæ¨¡å—ï¼ˆ4ä¸ªï¼‰** |
| **booklist** | **1** | **0%** | **50%** | **3ä¸ª** | **0.5å¤©** |
| **discovery** | **1** | **0%** | **50%** | **3ä¸ª** | **0.5å¤©** |
| **community** | **1** | **0%** | **50%** | **3ä¸ª** | **0.5å¤©** |
| **review** | **1** | **0%** | **50%** | **3ä¸ª** | **0.5å¤©** |
| **å°è®¡** | **4ä¸ª** | **0%** | **50%** | **12ä¸ª** | **2å¤©** |
| **50%å®Œæˆæ¨¡å—ï¼ˆ4ä¸ªï¼‰** |
| social | 1 | 0% | 40% | 2ä¸ª | 0.4å¤© |
| finance | 1 | 0% | 40% | 2ä¸ª | 0.4å¤© |
| notification | 1 | 0% | 40% | 2ä¸ª | 0.4å¤© |
| user | 1 | 0% | 40% | 2ä¸ª | 0.4å¤© |
| **å°è®¡** | **4ä¸ª** | **0%** | **40%** | **8ä¸ª** | **1.5å¤©** |
| **å…¶ä»–æ¨¡å—ï¼ˆ7ä¸ªï¼‰** |
| achievement | 1 | 0% | 30% | 2ä¸ª | 0.3å¤© |
| reading-stats | 1 | 0% | 30% | 2ä¸ª | 0.3å¤© |
| vip | 1 | 0% | 30% | 2ä¸ª | 0.3å¤© |
| announcements | 1 | 0% | 30% | 1ä¸ª | 0.2å¤© |
| recommendation | 1 | 0% | 30% | 1ä¸ª | 0.2å¤© |
| reward | 1 | 0% | 30% | 1ä¸ª | 0.2å¤© |
| system | 1 | 0% | 30% | 1ä¸ª | 0.2å¤© |
| **å°è®¡** | **7ä¸ª** | **0%** | **30%** | **10ä¸ª** | **2å¤©** |
| **æ€»è®¡** | **20ä¸ª** | **<1%** | **50%** | **85ä¸ª** | **8.5å¤©** |

**æµ‹è¯•æ–‡ä»¶åˆ†ç±»ï¼š**
- å•å…ƒæµ‹è¯•ï¼š60ä¸ªæ–‡ä»¶ï¼ˆç»„ä»¶æµ‹è¯•ï¼‰
- Storeæµ‹è¯•ï¼š15ä¸ªæ–‡ä»¶ï¼ˆçŠ¶æ€ç®¡ç†æµ‹è¯•ï¼‰
- E2Eæµ‹è¯•ï¼š10ä¸ªæ–‡ä»¶ï¼ˆç«¯åˆ°ç«¯æµ‹è¯•ï¼‰

**æ ‡æ³¨ï¼š**
- **ç²—ä½“**è¡¨ç¤ºæœ¬æ¬¡ä¼˜åŒ–é‡ç‚¹æ¨¡å—
- 75%å®Œæˆæ¨¡å—ï¼šç¬¬3å‘¨å®Œæˆ
- æ–°å®Œæˆæ¨¡å—ï¼šç¬¬4å‘¨å®Œæˆ
- å…¶ä»–æ¨¡å—ï¼šç¬¬9-10å‘¨æˆ–å»¶å

### 7.4 æ€§èƒ½åŸºå‡†æ•°æ®

#### 7.4.1 ä¼˜åŒ–å‰åŸºå‡†

**æ‰“åŒ…ä½“ç§¯ï¼ˆä¼˜åŒ–å‰ï¼‰ï¼š**
```json
{
  "dist/index.html": "4.5KB",
  "dist/assets/index-abc123.js": "1200KB",  // ä¸»åŒ…
  "dist/assets/vendor-def456.js": "800KB",  // Element Plusï¼ˆå…¨é‡ï¼‰
  "dist/assets/charts-ghi789.js": "400KB",  // Echartsï¼ˆå…¨é‡ï¼‰
  "æ€»è®¡": "~2MB"
}
```

**Lighthouseåˆ†æ•°ï¼ˆä¼˜åŒ–å‰ï¼‰ï¼š**
```json
{
  "Performance": 65,
  "Accessibility": 85,
  "Best Practices": 80,
  "SEO": 75
}
```

**åŠ è½½æ—¶é—´ï¼ˆä¼˜åŒ–å‰ï¼ŒFast 3Gï¼‰ï¼š**
```json
{
  "FCP": 2.1s,
  "LCP": 3.2s,
  "TTI": 4.5s,
  "é¦–å±åŠ è½½": 3.2s
}
```

#### 7.4.2 ä¼˜åŒ–åç›®æ ‡

**æ‰“åŒ…ä½“ç§¯ï¼ˆä¼˜åŒ–åï¼‰ï¼š**
```json
{
  "dist/index.html": "4.5KB",
  "dist/assets/index-abc123.js": "500KB",   // ä¸»åŒ…ï¼ˆå‡å°‘ï¼‰
  "dist/assets/vendor-def456.js": "200KB",  // Element Plusï¼ˆæŒ‰éœ€ï¼Œ-600KBï¼‰
  "dist/assets/charts-ghi789.js": "100KB",  // Echartsï¼ˆæŒ‰éœ€ï¼Œ-300KBï¼‰
  "æ€»è®¡": "~1.4MBï¼ˆ-30%ï¼‰"
}
```

**Lighthouseåˆ†æ•°ï¼ˆä¼˜åŒ–åï¼‰ï¼š**
```json
{
  "Performance": 82ï¼ˆ+17åˆ†ï¼‰,
  "Accessibility": 90,
  "Best Practices": 90,
  "SEO": 80
}
```

**åŠ è½½æ—¶é—´ï¼ˆä¼˜åŒ–åï¼ŒFast 3Gï¼‰ï¼š**
```json
{
  "FCP": 1.3sï¼ˆ-0.8sï¼‰,
  "LCP": 2.2sï¼ˆ-1.0sï¼‰,
  "TTI": 2.8sï¼ˆ-1.7sï¼‰,
  "é¦–å±åŠ è½½": 2.0sï¼ˆ-1.2sï¼‰
}
```

#### 7.4.3 æ€§èƒ½å¯¹æ¯”è¡¨

| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æå‡ | ç›®æ ‡ |
|------|--------|--------|------|------|
| **æ‰“åŒ…ä½“ç§¯** |
| Element Plus | ~800KB | ~100KB | -87.5% | -80% |
| Echarts | ~400KB | ~100KB | -75% | -70% |
| æ€»è®¡ | ~2MB | ~1.4MB | -30% | -30% |
| **Lighthouse** |
| Performance | 65 | 82 | +17åˆ† | â‰¥80 |
| Accessibility | 85 | 90 | +5åˆ† | â‰¥90 |
| Best Practices | 80 | 90 | +10åˆ† | â‰¥90 |
| SEO | 75 | 80 | +5åˆ† | â‰¥80 |
| **åŠ è½½æ—¶é—´** |
| FCP | 2.1s | 1.3s | -38% | â‰¤1.5s |
| LCP | 3.2s | 2.2s | -31% | â‰¤2.5s |
| TTI | 4.5s | 2.8s | -38% | â‰¤3.0s |
| é¦–å±åŠ è½½ | 3.2s | 2.0s | -38% | â‰¤2.0s |

#### 7.4.4 æ€§èƒ½ç›‘æ§æŒ‡æ ‡

**æŒç»­ç›‘æ§æŒ‡æ ‡ï¼š**
1. **æ‰“åŒ…ä½“ç§¯ï¼š** æ¯æ¬¡æ„å»ºåè®°å½•
2. **Lighthouseåˆ†æ•°ï¼š** æ¯å‘¨å®¡è®¡ä¸€æ¬¡
3. **åŠ è½½æ—¶é—´ï¼š** ä½¿ç”¨çœŸå®ç”¨æˆ·ç›‘æ§ï¼ˆRUMï¼‰
4. **é”™è¯¯ç‡ï¼š** ç›‘æ§è¿è¡Œæ—¶é”™è¯¯

**å‘Šè­¦é˜ˆå€¼ï¼š**
```typescript
const performanceThresholds = {
  bundleSize: {
    warning: 1500000,  // 1.5MB
    error: 2000000     // 2MBï¼ˆä¼˜åŒ–å‰æ°´å¹³ï¼‰
  },
  lighthouse: {
    warning: 75,
    error: 70
  },
  loadTime: {
    warning: 2500,     // 2.5s
    error: 3000        // 3s
  }
}
```

### 7.5 å¿«é€Ÿå‚è€ƒ

**æ£€æŸ¥ç‚¹æ¸…å•ï¼š**

**ç¬¬1-2å‘¨ç»“æŸï¼š**
- [ ] 4ä¸ªæ ¸å¿ƒæ¨¡å—å®Œæˆåº¦â‰¥50%
- [ ] æ‰€æœ‰è·¯ç”±æ¿€æ´»ï¼Œæ— 404é”™è¯¯
- [ ] åŸºç¡€åŠŸèƒ½å¯è®¿é—®

**ç¬¬3-4å‘¨ç»“æŸï¼š**
- [ ] æµ‹è¯•è¦†ç›–ç‡â‰¥50%
- [ ] E2Eæµ‹è¯•è¦†ç›–æ ¸å¿ƒæµç¨‹
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡

**ç¬¬5-6å‘¨ç»“æŸï¼š**
- [ ] APIé…ç½®è¦†ç›–ç‡100%
- [ ] type-checké€šè¿‡
- [ ] APIè§„èŒƒæ–‡æ¡£å®Œæˆ

**ç¬¬7-8å‘¨ç»“æŸï¼š**
- [ ] æ‰“åŒ…ä½“ç§¯å‡å°‘30%
- [ ] Lighthouseåˆ†æ•°â‰¥80
- [ ] é¦–å±åŠ è½½â‰¤2s

**ç¬¬9-10å‘¨ç»“æŸï¼š**
- [ ] æ‰€æœ‰éªŒæ”¶æ ‡å‡†è¾¾æˆ
- [ ] æ–‡æ¡£å®Œæ•´
- [ ] å¯å‘å¸ƒ

**å‘½ä»¤é€ŸæŸ¥ï¼š**

```bash
# å¼€å‘
npm run dev

# ç±»å‹æ£€æŸ¥
npm run type-check

# å•å…ƒæµ‹è¯•
npm run test:unit
npm run test:coverage

# E2Eæµ‹è¯•
npm run test:e2e

# æ„å»º
npm run build

# æ‰“åŒ…åˆ†æ
npx vite-bundle-visualizer dist

# Lighthouseå®¡è®¡
npx lighthouse http://localhost:4173

# APIç”Ÿæˆ
npm run generate:api

# ä»£ç æ£€æŸ¥
npm run lint
npm run format:check
```

---

## æ–‡æ¡£æ€»ç»“

æœ¬æ–‡æ¡£åˆ¶å®šäº†Qingyuå‰ç«¯é¡¹ç›®æŠ€æœ¯å€ºåŠ¡æ¸…ç†çš„è¯¦ç»†è®¡åˆ’ï¼Œæ¶µç›–ï¼š

**ä¸»è¦æˆæœï¼š**
1. âœ… å®Œæ•´çš„é—®é¢˜åˆ†æï¼ˆP0/P1é—®é¢˜è¯¦ç»†åˆ†æï¼‰
2. âœ… å…·ä½“çš„ä¼˜åŒ–æ–¹æ¡ˆï¼ˆ4ä¸ªé—®é¢˜çš„æŠ€æœ¯æ–¹æ¡ˆï¼‰
3. âœ… è¯¦ç»†çš„å®æ–½è®¡åˆ’ï¼ˆ8-10å‘¨ï¼Œæ¯å‘¨æœ‰æ£€æŸ¥ç‚¹ï¼‰
4. âœ… å…¨é¢çš„é£é™©è¯„ä¼°ï¼ˆ5ä¸ªä¸»è¦é£é™©+åº”å¯¹æªæ–½ï¼‰
5. âœ… æ˜ç¡®çš„éªŒæ”¶æ ‡å‡†ï¼ˆåŠŸèƒ½ã€æ€§èƒ½ã€æµ‹è¯•ã€ä»£ç è´¨é‡ï¼‰
6. âœ… å®Œæ•´çš„é™„å½•ï¼ˆæ¨¡å—æ¸…å•ã€APIé…ç½®ã€æµ‹è¯•ç›®æ ‡ã€æ€§èƒ½åŸºå‡†ï¼‰

**é¢„æœŸæ•ˆæœï¼š**
- æ¨¡å—å®Œæˆåº¦ï¼š43% â†’ 70%+
- æµ‹è¯•è¦†ç›–ç‡ï¼š<10% â†’ â‰¥50%
- APIé…ç½®ç‡ï¼š43% â†’ 100%
- æ‰“åŒ…ä½“ç§¯ï¼šå‡å°‘30%
- Lighthouseåˆ†æ•°ï¼š65 â†’ â‰¥80

**å®æ–½å‘¨æœŸï¼š** 1-2æœˆï¼ˆ8-10å‘¨ï¼‰

**é£é™©ç­‰çº§ï¼š** ä¸­ç­‰ï¼ˆå¯æ§ï¼Œæœ‰è¯¦ç»†åº”å¯¹æªæ–½ï¼‰

**å»ºè®®ï¼š**
- ä¼˜å…ˆæ‰§è¡ŒP0ä»»åŠ¡ï¼ˆå‰4å‘¨ï¼‰
- ä¸¥æ ¼æŒ‰æ£€æŸ¥ç‚¹éªŒæ”¶
- é‡åˆ°é˜»å¡åŠæ—¶æ²Ÿé€š
- ç¬¬9-10å‘¨ä½œä¸ºç¼“å†²

---

**æ–‡æ¡£ç‰ˆæœ¬ï¼š** 1.0
**åˆ›å»ºæ—¥æœŸï¼š** 2026-01-28
**æœ€åæ›´æ–°ï¼š** 2026-01-28
**çŠ¶æ€ï¼š** ğŸ“ è§„åˆ’ä¸­
**ä¸‹æ¬¡å®¡æŸ¥ï¼š** ç¬¬1å‘¨ç»“æŸï¼ˆ2026-02-04ï¼‰
