# é’ç¾½å‰ç«¯ - å¿«é€Ÿå¼€å§‹æŒ‡å—

## é¡¹ç›®ç®€ä»‹

é’ç¾½æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„åœ¨çº¿é˜…è¯»å¹³å°ï¼Œæä¾›ä¼˜è´¨çš„ç½‘ç»œæ–‡å­¦é˜…è¯»ä½“éªŒã€‚

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Vue 3 + TypeScript
- **æ„å»ºå·¥å…·**: Vite
- **çŠ¶æ€ç®¡ç†**: Pinia
- **UI åº“**: Element Plus
- **è·¯ç”±**: Vue Router
- **HTTP å®¢æˆ·ç«¯**: Axios
- **ä»£ç è§„èŒƒ**: ESLint

## ç¯å¢ƒè¦æ±‚

- Node.js >= 16.0.0
- npm >= 8.0.0 æˆ– pnpm >= 7.0.0

## å®‰è£…

### 1. å…‹éš†é¡¹ç›®

```bash
git clone <repository-url>
cd Qingyu_fronted
```

### 2. å®‰è£…ä¾èµ–

```bash
npm install
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```env
# API åŸºç¡€åœ°å€
VITE_API_BASE_URL=http://localhost:8080/api/v1

# åº”ç”¨æ ‡é¢˜
VITE_APP_TITLE=é’ç¾½ - åœ¨çº¿é˜…è¯»å¹³å°
```

## å¼€å‘

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® http://localhost:5173

### ç±»å‹æ£€æŸ¥

```bash
npm run type-check
```

### ä»£ç æ£€æŸ¥

```bash
npm run lint
```

### æ ¼å¼åŒ–ä»£ç 

```bash
npm run format  # å¦‚æœå·²é…ç½®
```

## æ„å»º

### ç”Ÿäº§æ„å»º

```bash
npm run build
```

æ„å»ºäº§ç‰©ä½äº `dist/` ç›®å½•ã€‚

### é¢„è§ˆæ„å»ºç»“æœ

```bash
npm run preview
```

## é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ api/              # API æ¥å£
â”‚   â”œâ”€â”€ auth.ts
â”‚   â”œâ”€â”€ bookstore.ts
â”‚   â”œâ”€â”€ user.ts
â”‚   â”œâ”€â”€ reading/
â”‚   â”‚   â”œâ”€â”€ books.ts
â”‚   â”‚   â””â”€â”€ reader.ts
â”‚   â””â”€â”€ recommendation.ts
â”œâ”€â”€ assets/           # é™æ€èµ„æº
â”œâ”€â”€ components/       # ç»„ä»¶
â”‚   â”œâ”€â”€ auth/
â”‚   â”œâ”€â”€ common/       # é€šç”¨ç»„ä»¶
â”‚   â””â”€â”€ ...
â”œâ”€â”€ composables/      # ç»„åˆå¼å‡½æ•°
â”‚   â”œâ”€â”€ useResponsive.ts
â”‚   â”œâ”€â”€ useTouch.ts
â”‚   â””â”€â”€ useLazyLoad.ts
â”œâ”€â”€ layouts/          # å¸ƒå±€ç»„ä»¶
â”‚   â””â”€â”€ MainLayout.vue
â”œâ”€â”€ modules/          # åŠŸèƒ½æ¨¡å—
â”‚   â””â”€â”€ writer/
â”œâ”€â”€ router/           # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ index.js
â”œâ”€â”€ stores/           # çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ auth.ts
â”‚   â”œâ”€â”€ user.ts
â”‚   â”œâ”€â”€ bookstore.ts
â”‚   â””â”€â”€ reader.ts
â”œâ”€â”€ types/            # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ models.ts
â”‚   â””â”€â”€ api.ts
â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ request.ts    # HTTP è¯·æ±‚
â”‚   â”œâ”€â”€ cache.ts      # ç¼“å­˜ç®¡ç†
â”‚   â”œâ”€â”€ errorHandler.ts
â”‚   â”œâ”€â”€ performance.ts
â”‚   â”œâ”€â”€ format.ts
â”‚   â””â”€â”€ storage.js
â”œâ”€â”€ views/            # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ HomeView.vue
â”‚   â”œâ”€â”€ BooksView.vue
â”‚   â”œâ”€â”€ BookDetailView.vue
â”‚   â”œâ”€â”€ ReaderView.vue
â”‚   â”œâ”€â”€ SearchView.vue
â”‚   â”œâ”€â”€ ProfileView.vue
â”‚   â””â”€â”€ ...
â”œâ”€â”€ App.vue           # æ ¹ç»„ä»¶
â””â”€â”€ main.ts           # å…¥å£æ–‡ä»¶
```

## æ ¸å¿ƒåŠŸèƒ½

### 1. ä¹¦åŸ

- ä¹¦ç±åˆ—è¡¨ (`/books`)
- ä¹¦ç±è¯¦æƒ… (`/books/:id`)
- ä¹¦ç±æœç´¢ (`/search`)
- åˆ†ç±»æµè§ˆ (`/categories`)

### 2. é˜…è¯»å™¨

- ç« èŠ‚é˜…è¯» (`/reader/:chapterId`)
- é˜…è¯»è®¾ç½® (å­—ä½“ã€ä¸»é¢˜ã€è¡Œè·ç­‰)
- é˜…è¯»è¿›åº¦ä¿å­˜
- ç« èŠ‚å¯¼èˆª

### 3. ç”¨æˆ·ç³»ç»Ÿ

- ç™»å½•æ³¨å†Œ (`/login`, `/auth`)
- ä¸ªäººä¸­å¿ƒ (`/profile`)
- ä¹¦æ¶ç®¡ç†
- é˜…è¯»å†å²

## å¼€å‘æŒ‡å—

### 1. åˆ›å»ºæ–°é¡µé¢

```typescript
// src/views/NewPage.vue
<template>
  <div class="new-page">
    <h1>{{ title }}</h1>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'

const title = ref('æ–°é¡µé¢')
</script>

<style scoped lang="scss">
.new-page {
  padding: 20px;
}
</style>
```

åœ¨è·¯ç”±ä¸­æ³¨å†Œï¼š

```javascript
// src/router/index.js
{
  path: '/new-page',
  name: 'new-page',
  component: () => import('@/views/NewPage.vue'),
  meta: { title: 'æ–°é¡µé¢' }
}
```

### 2. ä½¿ç”¨ API

```typescript
import { booksAPI } from '@/api/reading/books'

// è·å–ä¹¦ç±åˆ—è¡¨
const fetchBooks = async () => {
  try {
    const response = await booksAPI.getBookList({
      page: 1,
      size: 20
    })
    
    if (response.code === 200) {
      books.value = response.data.books
    }
  } catch (error) {
    console.error('è·å–ä¹¦ç±å¤±è´¥:', error)
  }
}
```

### 3. ä½¿ç”¨çŠ¶æ€ç®¡ç†

```typescript
import { useAuthStore } from '@/stores/auth'

const authStore = useAuthStore()

// ç™»å½•
await authStore.login({
  username: 'user',
  password: 'pass'
})

// è·å–ç”¨æˆ·ä¿¡æ¯
const user = authStore.user
const isLoggedIn = authStore.isLoggedIn
```

### 4. ä½¿ç”¨ç»„åˆå¼å‡½æ•°

```typescript
import { useResponsive } from '@/composables/useResponsive'

const { isMobile, isDesktop } = useResponsive()

// åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨
// <div v-if="isMobile">ç§»åŠ¨ç«¯</div>
```

### 5. é”™è¯¯å¤„ç†

```typescript
import { handleError } from '@/utils/errorHandler'

try {
  await someAsyncOperation()
} catch (error) {
  handleError(error) // è‡ªåŠ¨æ˜¾ç¤ºé”™è¯¯æç¤º
}
```

### 6. ç¼“å­˜ä½¿ç”¨

```typescript
import { cacheRequest } from '@/utils/cache'
import request from '@/utils/request'

const data = await cacheRequest(
  'cache-key',
  () => request.get('/api/data'),
  { expiresIn: 5 * 60 * 1000 } // 5åˆ†é’Ÿ
)
```

## å¸¸ç”¨å‘½ä»¤

```bash
# å¼€å‘
npm run dev

# æ„å»º
npm run build

# é¢„è§ˆ
npm run preview

# ç±»å‹æ£€æŸ¥
npm run type-check

# Lint
npm run lint

# å®‰è£…ä¾èµ–
npm install

# æ›´æ–°ä¾èµ–
npm update
```

## è°ƒè¯•

### Vue Devtools

æ¨èå®‰è£… Vue Devtools æµè§ˆå™¨æ‰©å±•è¿›è¡Œè°ƒè¯•ã€‚

### æ€§èƒ½ç›‘æ§

å¼€å‘ç¯å¢ƒä¼šè‡ªåŠ¨è¾“å‡ºæ€§èƒ½æŒ‡æ ‡åˆ°æ§åˆ¶å°ï¼š

```javascript
// æŸ¥çœ‹æ€§èƒ½æŠ¥å‘Š
[Performance] é¦–å±æ¸²æŸ“æ—¶é—´: 1234ms
[Performance] é¡µé¢æ€§èƒ½æŒ‡æ ‡: {...}
```

## å¸¸è§é—®é¢˜

### 1. ç«¯å£è¢«å ç”¨

ä¿®æ”¹ `vite.config.js`:

```javascript
export default defineConfig({
  server: {
    port: 3000 // æ›´æ”¹ç«¯å£
  }
})
```

### 2. API è¯·æ±‚å¤±è´¥

æ£€æŸ¥ `.env.local` ä¸­çš„ API åœ°å€é…ç½®ã€‚

### 3. TypeScript é”™è¯¯

è¿è¡Œç±»å‹æ£€æŸ¥æŸ¥çœ‹è¯¦ç»†é”™è¯¯ï¼š

```bash
npm run type-check
```

### 4. æ ·å¼ä¸ç”Ÿæ•ˆ

ç¡®ä¿ä½¿ç”¨äº† `scoped` æˆ–æ­£ç¡®çš„é€‰æ‹©å™¨ã€‚

## éƒ¨ç½²

### Vercel

```bash
npm run build
# å°† dist/ ç›®å½•éƒ¨ç½²åˆ° Vercel
```

### Nginx

```nginx
server {
  listen 80;
  server_name example.com;
  root /path/to/dist;
  
  location / {
    try_files $uri $uri/ /index.html;
  }
}
```

### Docker

```dockerfile
FROM node:16-alpine as build
WORKDIR /app
COPY package*.json ./
RUN npm ci
COPY . .
RUN npm run build

FROM nginx:alpine
COPY --from=build /app/dist /usr/share/nginx/html
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
```

## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## è®¸å¯è¯

[MIT License](LICENSE)

## è”ç³»æ–¹å¼

- é¡¹ç›®åœ°å€: [GitHub Repository]
- é—®é¢˜åé¦ˆ: [Issues]
- æ–‡æ¡£: [Documentation]

---

**Happy Coding! ğŸš€**


