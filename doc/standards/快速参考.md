# 青羽平台 - 快速参考

> **版本**: v1.0.0  
> **最后更新**: 2025-10-29

---

## 🚀 常用命令速查

### NPM Scripts

```bash
# 开发环境
npm run dev           # 启动开发服务器
pnpm dev             # 推荐使用pnpm

# 构建
npm run build        # 生产构建
npm run preview      # 预览构建结果

# 代码质量
npm run lint         # ESLint检查
npm run type-check   # TypeScript类型检查

# 测试
npm run test         # 运行测试
npm run test:watch   # 监听模式
npm run test:coverage # 生成覆盖率报告
```

### Git 命令

```bash
# 创建功能分支
git checkout -b feature/new-feature

# 提交代码
git add .
git commit -m "feat(module): 添加新功能"

# 推送到远程
git push origin feature/new-feature

# 更新本地分支
git pull origin develop

# 查看状态
git status

# 查看日志
git log --oneline --graph --all
```

---

## 📁 路径别名速查

### 配置的别名

| 别名         | 路径                     | 用途         |
| ------------ | ------------------------ | ------------ |
| `@`          | `src/`                   | 根目录       |
| `@core`      | `src/core/`              | 核心基础设施 |
| `@shared`    | `src/shared/`            | 共享资源     |
| `@bookstore` | `src/modules/bookstore/` | 书城模块     |
| `@reader`    | `src/modules/reader/`    | 阅读器模块   |
| `@writer`    | `src/modules/writer/`    | 写作模块     |
| `@user`      | `src/modules/user/`      | 用户模块     |
| `@admin`     | `src/modules/admin/`     | 管理模块     |

### 使用示例

```typescript
// 导入核心服务
import { httpService } from '@core/services/http.service'
import { storageService } from '@core/services/storage.service'

// 导入共享组件
import BaseButton from '@shared/components/base/BaseButton.vue'
import LoadingSpinner from '@shared/components/common/LoadingSpinner.vue'

// 导入模块功能
import { bookstoreAPI } from '@bookstore/api/bookstore.api'
import { useBookstoreStore } from '@bookstore/stores/bookstore.store'

// 导入类型
import type { Book } from '@/types/bookstore'
```

---

## 🛠️ 常用工具函数

### 格式化函数

```typescript
import { formatNumber, formatDate, formatCurrency } from '@/utils/format'

// 数字格式化
formatNumber(12345)        // "12,345"
formatNumber(12345, 1)     // "1.2万"

// 日期格式化
formatDate(new Date())                    // "2025-10-29"
formatDate(new Date(), 'YYYY-MM-DD HH:mm') // "2025-10-29 14:30"

// 货币格式化
formatCurrency(12345.67)   // "¥12,345.67"
```

### 验证函数

```typescript
import { 
  isEmail, 
  isPhone, 
  isUrl, 
  isEmpty 
} from '@core/services/validation.service'

// 邮箱验证
isEmail('user@example.com')  // true

// 手机号验证
isPhone('13800138000')       // true

// URL验证
isUrl('https://example.com') // true

// 空值判断
isEmpty(null)                // true
isEmpty('')                  // true
isEmpty([])                  // true
```

### 缓存函数

```typescript
import { cacheUtil } from '@/utils/cache'

// 设置缓存（5分钟）
cacheUtil.set('key', data, 5 * 60 * 1000)

// 获取缓存
const data = cacheUtil.get('key')

// 删除缓存
cacheUtil.remove('key')

// 清空所有缓存
cacheUtil.clear()
```

### 存储函数

```typescript
import { storageService } from '@core/services/storage.service'

// LocalStorage
storageService.local.set('key', value)
const value = storageService.local.get('key')
storageService.local.remove('key')

// SessionStorage
storageService.session.set('key', value)
const value = storageService.session.get('key')
```

---

## 🎨 Element Plus 组件速查

### 表单组件

```vue
<!-- 输入框 -->
<el-input v-model="form.name" placeholder="请输入" />

<!-- 下拉选择 -->
<el-select v-model="form.category" placeholder="请选择">
  <el-option label="选项1" value="1" />
  <el-option label="选项2" value="2" />
</el-select>

<!-- 日期选择 -->
<el-date-picker
  v-model="form.date"
  type="date"
  placeholder="选择日期"
/>

<!-- 开关 -->
<el-switch v-model="form.enabled" />

<!-- 单选框 -->
<el-radio-group v-model="form.type">
  <el-radio label="1">选项1</el-radio>
  <el-radio label="2">选项2</el-radio>
</el-radio-group>

<!-- 多选框 -->
<el-checkbox-group v-model="form.tags">
  <el-checkbox label="tag1">标签1</el-checkbox>
  <el-checkbox label="tag2">标签2</el-checkbox>
</el-checkbox-group>
```

### 数据展示

```vue
<!-- 表格 -->
<el-table :data="tableData" border>
  <el-table-column prop="name" label="名称" />
  <el-table-column prop="date" label="日期" />
  <el-table-column label="操作">
    <template #default="{ row }">
      <el-button @click="handleEdit(row)">编辑</el-button>
    </template>
  </el-table-column>
</el-table>

<!-- 分页 -->
<el-pagination
  v-model:current-page="currentPage"
  v-model:page-size="pageSize"
  :total="total"
  layout="total, sizes, prev, pager, next, jumper"
/>

<!-- 标签 -->
<el-tag type="primary">主要</el-tag>
<el-tag type="success">成功</el-tag>
<el-tag type="warning">警告</el-tag>
<el-tag type="danger">危险</el-tag>

<!-- 徽章 -->
<el-badge :value="12" :max="99">
  <el-button>消息</el-button>
</el-badge>
```

### 反馈组件

```typescript
import { ElMessage, ElMessageBox, ElNotification, ElLoading } from 'element-plus'

// 消息提示
ElMessage.success('操作成功')
ElMessage.warning('警告信息')
ElMessage.error('操作失败')
ElMessage.info('提示信息')

// 确认框
await ElMessageBox.confirm('确定要删除吗？', '提示', {
  confirmButtonText: '确定',
  cancelButtonText: '取消',
  type: 'warning'
})

// 通知
ElNotification({
  title: '成功',
  message: '操作成功',
  type: 'success'
})

// Loading
const loading = ElLoading.service({
  lock: true,
  text: '加载中...',
  background: 'rgba(0, 0, 0, 0.7)'
})
// 关闭
loading.close()
```

### 布局组件

```vue
<!-- 容器 -->
<el-container>
  <el-header>Header</el-header>
  <el-container>
    <el-aside width="200px">Aside</el-aside>
    <el-main>Main</el-main>
  </el-container>
</el-container>

<!-- 卡片 -->
<el-card shadow="hover">
  <template #header>
    <div>卡片标题</div>
  </template>
  <div>卡片内容</div>
</el-card>

<!-- 对话框 -->
<el-dialog v-model="dialogVisible" title="提示">
  <span>对话框内容</span>
  <template #footer>
    <el-button @click="dialogVisible = false">取消</el-button>
    <el-button type="primary" @click="handleConfirm">确定</el-button>
  </template>
</el-dialog>

<!-- 抽屉 -->
<el-drawer v-model="drawerVisible" title="标题" direction="rtl">
  <div>抽屉内容</div>
</el-drawer>
```

---

## 🎭 图标使用指南

### Element Plus Icons

```bash
# 安装
npm install @element-plus/icons-vue
```

### 使用方式

#### 方式1：全局注册

```typescript
// main.ts
import * as ElementPlusIconsVue from '@element-plus/icons-vue'

for (const [key, component] of Object.entries(ElementPlusIconsVue)) {
  app.component(key, component)
}
```

```vue
<!-- 使用 -->
<template>
  <el-icon><Edit /></el-icon>
  <el-icon><Delete /></el-icon>
  <el-icon><Search /></el-icon>
</template>
```

#### 方式2：按需导入

```vue
<script setup>
import { Edit, Delete, Search } from '@element-plus/icons-vue'
</script>

<template>
  <el-icon><Edit /></el-icon>
  <el-icon><Delete /></el-icon>
  <el-icon><Search /></el-icon>
</template>
```

### 常用图标

| 名称       | 用途 | 名称           | 用途   |
| ---------- | ---- | -------------- | ------ |
| `Edit`     | 编辑 | `Delete`       | 删除   |
| `Search`   | 搜索 | `Plus`         | 添加   |
| `View`     | 查看 | `Close`        | 关闭   |
| `Check`    | 确认 | `RefreshRight` | 刷新   |
| `Upload`   | 上传 | `Download`     | 下载   |
| `User`     | 用户 | `Setting`      | 设置   |
| `Star`     | 收藏 | `StarFilled`   | 已收藏 |
| `Document` | 文档 | `Folder`       | 文件夹 |

---

## 📝 代码片段

### Vue 3 组件模板

```vue
<template>
  <div class="component-name">
    <!-- 内容 -->
  </div>
</template>

<script setup lang="ts">
import { ref, computed, onMounted } from 'vue'

// Props
interface Props {
  title: string
}

const props = defineProps<Props>()

// Emits
const emit = defineEmits<{
  'update:modelValue': [value: string]
  change: [value: string]
}>()

// State
const data = ref<any>(null)

// Computed
const processedData = computed(() => {
  return data.value
})

// Methods
const handleClick = () => {
  emit('change', 'value')
}

// Lifecycle
onMounted(() => {
  // 初始化
})
</script>

<style scoped>
.component-name {
  /* 样式 */
}
</style>
```

### Pinia Store 模板

```typescript
import { defineStore } from 'pinia'
import { ref, computed } from 'vue'

export const useMyStore = defineStore('myStore', () => {
  // State
  const data = ref<any>(null)
  const loading = ref(false)
  const error = ref<string | null>(null)
  
  // Getters
  const hasData = computed(() => data.value !== null)
  
  // Actions
  async function fetchData() {
    loading.value = true
    error.value = null
    
    try {
      // API调用
      data.value = await api.getData()
    } catch (err: any) {
      error.value = err.message
      throw err
    } finally {
      loading.value = false
    }
  }
  
  function reset() {
    data.value = null
    error.value = null
  }
  
  return {
    // State
    data,
    loading,
    error,
    
    // Getters
    hasData,
    
    // Actions
    fetchData,
    reset,
  }
})
```

### API 封装模板

```typescript
import { httpService } from '@core/services/http.service'
import type { ApiResponse } from '@core/types/api.types'

export interface ItemParams {
  page: number
  pageSize: number
}

export interface Item {
  id: string
  name: string
}

export const itemAPI = {
  async getList(params: ItemParams): Promise<ApiResponse<Item[]>> {
    return httpService.get('/items', { params })
  },
  
  async getById(id: string): Promise<ApiResponse<Item>> {
    return httpService.get(`/items/${id}`)
  },
  
  async create(data: Partial<Item>): Promise<ApiResponse<Item>> {
    return httpService.post('/items', data)
  },
  
  async update(id: string, data: Partial<Item>): Promise<ApiResponse<Item>> {
    return httpService.put(`/items/${id}`, data)
  },
  
  async delete(id: string): Promise<ApiResponse<void>> {
    return httpService.delete(`/items/${id}`)
  },
}
```

---

## 🎯 最佳实践速查

### Do's ✅

- 使用 TypeScript
- 组件文件用 PascalCase
- Props 使用 camelCase
- Events 使用 kebab-case
- 使用 `<script setup>`
- 使用 CSS 变量
- 遵循 BEM 命名
- 编写组件文档
- 添加类型定义
- 使用路径别名

### Don'ts ❌

- 不要使用 `any` 类型
- 不要直接修改 Props
- 不要使用单词组件名
- 不要过度使用全局状态
- 不要忘记错误处理
- 不要硬编码配置
- 不要使用内联样式
- 不要忽略 ESLint 警告
- 不要提交调试代码
- 不要忘记清理副作用

---

## 📞 常见问题

### Q: 如何导入组件？

```typescript
// 自动导入（推荐）
import BookCard from '@/components/BookCard.vue'

// 懒加载
const BookCard = defineAsyncComponent(() => 
  import('@/components/BookCard.vue')
)
```

### Q: 如何使用环境变量？

```typescript
// 访问环境变量
const apiUrl = import.meta.env.VITE_API_BASE_URL

// 判断环境
if (import.meta.env.DEV) {
  console.log('开发环境')
}
```

### Q: 如何全局注册组件？

```typescript
// main.ts
import BaseButton from '@/components/base/BaseButton.vue'

app.component('BaseButton', BaseButton)
```

### Q: 如何使用 Pinia？

```typescript
// 定义 Store
export const useCounterStore = defineStore('counter', () => {
  const count = ref(0)
  const increment = () => count.value++
  return { count, increment }
})

// 使用 Store
const counter = useCounterStore()
counter.increment()
```

---

**维护者**: 前端团队  
**最后更新**: 2025-10-29  
**版本**: v1.0.0

