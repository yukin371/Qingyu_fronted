# ç®¡ç†åå°ä½¿ç”¨æŒ‡å—

> **ç‰ˆæœ¬**: v1.0  
> **æœ€åæ›´æ–°**: 2025-10-21  
> **å¼€å‘çŠ¶æ€**: âœ… å·²å®Œæˆ

---

## ğŸ“‹ æ¦‚è¿°

é’ç¾½ç®¡ç†åå°æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œå–„çš„åå°ç®¡ç†ç³»ç»Ÿï¼Œæä¾›ç”¨æˆ·ç®¡ç†ã€å†…å®¹å®¡æ ¸ã€æç°å®¡æ ¸ã€æ“ä½œæ—¥å¿—ç­‰åŠŸèƒ½ã€‚

### æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Vue 3 + TypeScript
- **UIç»„ä»¶åº“**: Element Plus
- **çŠ¶æ€ç®¡ç†**: Pinia
- **å›¾è¡¨åº“**: ECharts
- **è·¯ç”±**: Vue Router
- **HTTPå®¢æˆ·ç«¯**: Axios

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### è®¿é—®åœ°å€

```
http://localhost:5173/admin/dashboard
```

### æƒé™è¦æ±‚

- å¿…é¡»ç™»å½•
- å¿…é¡»å…·æœ‰ç®¡ç†å‘˜è§’è‰²ï¼ˆ`admin` æˆ– `super_admin`ï¼‰

### è·¯ç”±ç»“æ„

```
/admin
â”œâ”€â”€ /dashboard      - ä»ªè¡¨æ¿
â”œâ”€â”€ /reviews        - å†…å®¹å®¡æ ¸
â”œâ”€â”€ /withdrawals    - æç°å®¡æ ¸
â”œâ”€â”€ /users          - ç”¨æˆ·ç®¡ç†
â””â”€â”€ /logs           - æ“ä½œæ—¥å¿—
```

---

## ğŸ“¦ æ ¸å¿ƒåŠŸèƒ½

### 1. ä»ªè¡¨æ¿ (Dashboard)

**è·¯å¾„**: `/admin/dashboard`

#### åŠŸèƒ½ç‰¹æ€§

- **ç»Ÿè®¡å¡ç‰‡**: æ˜¾ç¤ºç”¨æˆ·æ€»æ•°ã€å¾…å®¡æ ¸æ•°ã€ä»Šæ—¥æ”¶å…¥ã€æ´»è·ƒç”¨æˆ·
- **æ•°æ®å›¾è¡¨**: 
  - ç”¨æˆ·å¢é•¿è¶‹åŠ¿ï¼ˆæ”¯æŒå‘¨/æœˆ/å¹´åˆ‡æ¢ï¼‰
  - äº¤æ˜“é‡‘é¢è¶‹åŠ¿ï¼ˆæ”¯æŒå‘¨/æœˆåˆ‡æ¢ï¼‰
  - å†…å®¹å‘å¸ƒç»Ÿè®¡ï¼ˆé¥¼å›¾ï¼‰
- **æœ€è¿‘æ´»åŠ¨**: æ˜¾ç¤ºæœ€è¿‘çš„ç³»ç»Ÿæ´»åŠ¨
- **å¿«æ·æ“ä½œ**: å¿«é€Ÿè·³è½¬åˆ°å„ä¸ªç®¡ç†é¡µé¢

#### ä½¿ç”¨æ–¹æ³•

```typescript
// ç‚¹å‡»ç»Ÿè®¡å¡ç‰‡å¯è·³è½¬åˆ°å¯¹åº”é¡µé¢
- ç‚¹å‡»"ç”¨æˆ·æ€»æ•°" â†’ è·³è½¬åˆ°ç”¨æˆ·ç®¡ç†
- ç‚¹å‡»"å¾…å®¡æ ¸" â†’ è·³è½¬åˆ°å†…å®¹å®¡æ ¸
- ç‚¹å‡»"ä»Šæ—¥æ”¶å…¥" â†’ æŸ¥çœ‹è¯¦ç»†æ•°æ®
```

---

### 2. å†…å®¹å®¡æ ¸ (Review Management)

**è·¯å¾„**: `/admin/reviews`

#### åŠŸèƒ½ç‰¹æ€§

- å¾…å®¡æ ¸å†…å®¹åˆ—è¡¨
- æŒ‰å†…å®¹ç±»å‹ç­›é€‰ï¼ˆä¹¦ç±/ç« èŠ‚/æ–‡æ¡£/è¯„è®ºï¼‰
- æœç´¢åŠŸèƒ½
- æ‰¹é‡å®¡æ ¸ï¼ˆè®¡åˆ’ä¸­ï¼‰
- å®¡æ ¸è¯¦æƒ…æŸ¥çœ‹
- æ‰¹å‡†/æ‹’ç»æ“ä½œ

#### ä½¿ç”¨æµç¨‹

1. é€‰æ‹©å†…å®¹ç±»å‹è¿›è¡Œç­›é€‰
2. ç‚¹å‡»"è¯¦æƒ…"æŸ¥çœ‹å®Œæ•´å†…å®¹
3. ç‚¹å‡»"æ‰¹å‡†"é€šè¿‡å®¡æ ¸
4. ç‚¹å‡»"æ‹’ç»"å¹¶å¡«å†™æ‹’ç»åŸå› 

#### å®¡æ ¸å¡ç‰‡ç»„ä»¶

```vue
<ReviewCard
  :item="reviewItem"
  @approve="handleApprove"
  @reject="handleReject"
  @view="handleView"
/>
```

---

### 3. æç°å®¡æ ¸ (Withdrawal Management)

**è·¯å¾„**: `/admin/withdrawals`

#### åŠŸèƒ½ç‰¹æ€§

- æç°ç”³è¯·åˆ—è¡¨
- æŒ‰çŠ¶æ€ç­›é€‰ï¼ˆå¾…å®¡æ ¸/å·²æ‰¹å‡†/å·²æ‹’ç»ï¼‰
- æ—¥æœŸèŒƒå›´ç­›é€‰
- æç°è¯¦æƒ…æŸ¥çœ‹
- æ‰¹å‡†/æ‹’ç»æ“ä½œ

#### ä½¿ç”¨æµç¨‹

1. æŸ¥çœ‹æç°ç”³è¯·åˆ—è¡¨
2. ç‚¹å‡»"æ‰¹å‡†"åŒæ„æç°
3. ç‚¹å‡»"æ‹’ç»"å¹¶å¡«å†™æ‹’ç»åŸå› 
4. ç³»ç»Ÿè‡ªåŠ¨æ›´æ–°çŠ¶æ€

#### ç»Ÿè®¡ä¿¡æ¯

- å¾…å®¡æ ¸æ•°é‡
- ä»Šæ—¥å·²å®¡æ ¸æ•°é‡

---

### 4. ç”¨æˆ·ç®¡ç† (User Management)

**è·¯å¾„**: `/admin/users`

#### åŠŸèƒ½ç‰¹æ€§

- ç”¨æˆ·åˆ—è¡¨ï¼ˆåˆ†é¡µï¼‰
- æœç´¢å’Œç­›é€‰
- ç”¨æˆ·è¯¦æƒ…æŸ¥çœ‹
- ç”¨æˆ·ç»Ÿè®¡ä¿¡æ¯
- è§’è‰²å’Œæƒé™ç®¡ç†
- ç”¨æˆ·çŠ¶æ€ç®¡ç†ï¼ˆå¯ç”¨/ç¦ç”¨ï¼‰

---

### 5. æ“ä½œæ—¥å¿— (Operation Logs)

**è·¯å¾„**: `/admin/logs`

#### åŠŸèƒ½ç‰¹æ€§

- æ“ä½œæ—¥å¿—åˆ—è¡¨
- æŒ‰æ“ä½œç±»å‹ç­›é€‰
- æŒ‰ç®¡ç†å‘˜ç­›é€‰
- æ—¥æœŸèŒƒå›´ç­›é€‰
- æ—¥å¿—è¯¦æƒ…æŸ¥çœ‹
- å¯¼å‡ºåŠŸèƒ½ï¼ˆè®¡åˆ’ä¸­ï¼‰

#### æ—¥å¿—ç±»å‹

- `approve_content` - æ‰¹å‡†å†…å®¹
- `reject_content` - æ‹’ç»å†…å®¹
- `approve_withdraw` - æ‰¹å‡†æç°
- `reject_withdraw` - æ‹’ç»æç°
- `update_user` - æ›´æ–°ç”¨æˆ·
- `delete_user` - åˆ é™¤ç”¨æˆ·

---

## ğŸ¨ ç»„ä»¶åº“

### ç®¡ç†å‘˜å…¬å…±ç»„ä»¶

#### 1. StatCard (ç»Ÿè®¡å¡ç‰‡)

```vue
<StatCard
  title="ç”¨æˆ·æ€»æ•°"
  :value="12586"
  icon="el-icon-user"
  iconBg="#409eff"
  :trend="12.5"
  format="number"
  @click="handleClick"
/>
```

**å±æ€§è¯´æ˜**:
- `title`: å¡ç‰‡æ ‡é¢˜
- `value`: æ•°å€¼
- `icon`: å›¾æ ‡ç±»å
- `iconBg`: å›¾æ ‡èƒŒæ™¯è‰²
- `trend`: å¢é•¿ç‡ï¼ˆå¯é€‰ï¼‰
- `format`: æ ¼å¼åŒ–ç±»å‹ï¼ˆnumber/currency/percentï¼‰
- `onClick`: ç‚¹å‡»å›è°ƒ

#### 2. ChartCard (å›¾è¡¨å¡ç‰‡)

```vue
<ChartCard
  title="ç”¨æˆ·å¢é•¿è¶‹åŠ¿"
  :option="chartOption"
  height="350px"
>
  <template #extra>
    <el-button>æ“ä½œ</el-button>
  </template>
</ChartCard>
```

#### 3. ReviewCard (å®¡æ ¸å¡ç‰‡)

```vue
<ReviewCard
  :item="reviewItem"
  @approve="handleApprove"
  @reject="handleReject"
  @view="handleView"
/>
```

### é’±åŒ…ç»„ä»¶

#### 1. WalletCard (é’±åŒ…å¡ç‰‡)

```vue
<WalletCard
  :balance="1250.50"
  :availableAmount="1200.50"
  :frozenAmount="50.00"
  :showExtra="true"
  @refresh="handleRefresh"
  @recharge="handleRecharge"
  @withdraw="handleWithdraw"
/>
```

#### 2. TransactionList (äº¤æ˜“è®°å½•åˆ—è¡¨)

```vue
<TransactionList
  :transactions="transactions"
  :loading="loading"
  :total="total"
  :page="page"
  :pageSize="pageSize"
  @typeChange="handleTypeChange"
  @pageChange="handlePageChange"
/>
```

#### 3. RechargeDialog (å……å€¼å¯¹è¯æ¡†)

```vue
<RechargeDialog
  v-model="dialogVisible"
  :loading="loading"
  @confirm="handleConfirm"
/>
```

#### 4. WithdrawDialog (æç°å¯¹è¯æ¡†)

```vue
<WithdrawDialog
  v-model="dialogVisible"
  :availableAmount="availableAmount"
  :loading="loading"
  @confirm="handleConfirm"
/>
```

### æ–‡ä»¶ç®¡ç†ç»„ä»¶

#### FileUploader (æ–‡ä»¶ä¸Šä¼ å™¨)

```vue
<FileUploader
  accept="image/*"
  :multiple="true"
  :limit="10"
  :maxSize="10"
  :drag="true"
  @success="handleSuccess"
  @error="handleError"
/>
```

---

## ğŸ”§ API é›†æˆ

### å…±äº«æœåŠ¡API

æ‰€æœ‰APIè°ƒç”¨å·²å°è£…åœ¨ `src/api/shared/` ç›®å½•ä¸‹ï¼š

```typescript
import * as walletAPI from '@/api/shared/wallet'
import * as storageAPI from '@/api/shared/storage'
import * as adminAPI from '@/api/shared/admin'
import * as authAPI from '@/api/shared/auth'
```

### ä½¿ç”¨ç¤ºä¾‹

```typescript
// è·å–é’±åŒ…ä½™é¢
const balance = await walletAPI.getBalance()

// å®¡æ ¸å†…å®¹
await adminAPI.reviewContent({
  content_id: 'doc_123',
  content_type: 'document',
  action: 'approve'
})

// å®¡æ ¸æç°
await adminAPI.reviewWithdraw({
  withdraw_id: 'wd_001',
  approved: true
})
```

---

## ğŸ’¾ çŠ¶æ€ç®¡ç†

### Store æ¨¡å—

#### 1. é’±åŒ…Store (`useWalletStore`)

```typescript
import { useWalletStore } from '@/stores/wallet'

const walletStore = useWalletStore()

// è·å–ä½™é¢
await walletStore.fetchBalance()

// å……å€¼
await walletStore.recharge({ amount: 100, method: 'alipay' })

// è·å–äº¤æ˜“è®°å½•
await walletStore.fetchTransactions({ page: 1, page_size: 20 })
```

#### 2. å­˜å‚¨Store (`useStorageStore`)

```typescript
import { useStorageStore } from '@/stores/storage'

const storageStore = useStorageStore()

// ä¸Šä¼ æ–‡ä»¶
await storageStore.uploadFile(file, 'uploads/')

// è·å–æ–‡ä»¶åˆ—è¡¨
await storageStore.fetchFiles({ page: 1, page_size: 20 })

// åˆ é™¤æ–‡ä»¶
await storageStore.deleteFile(fileId)
```

---

## ğŸ¯ å·¥å…·å‡½æ•°

### ç®¡ç†å‘˜å·¥å…· (`src/utils/admin.ts`)

```typescript
import {
  formatCurrency,
  formatPercent,
  formatLargeNumber,
  calculateGrowthRate,
  exportToCSV,
  exportToJSON
} from '@/utils/admin'

// æ ¼å¼åŒ–é‡‘é¢
const formatted = formatCurrency(1250.50) // "Â¥1,250.50"

// æ ¼å¼åŒ–ç™¾åˆ†æ¯”
const percent = formatPercent(12.5) // "12.5%"

// è®¡ç®—å¢é•¿ç‡
const growth = calculateGrowthRate(120, 100) // 20

// å¯¼å‡ºCSV
exportToCSV(data, 'filename', ['åˆ—1', 'åˆ—2'])
```

### å›¾è¡¨é…ç½® (`src/utils/chartConfig.ts`)

```typescript
import {
  createLineChartOption,
  createBarChartOption,
  createPieChartOption
} from '@/utils/chartConfig'

// åˆ›å»ºæŠ˜çº¿å›¾é…ç½®
const lineOption = createLineChartOption(
  ['å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰'],
  [
    { name: 'æ–°å¢ç”¨æˆ·', data: [120, 132, 101] },
    { name: 'æ´»è·ƒç”¨æˆ·', data: [220, 182, 191] }
  ]
)
```

---

## ğŸ¨ æ ·å¼å®šåˆ¶

### ä½¿ç”¨ç®¡ç†å‘˜æ ·å¼

```vue
<style scoped lang="scss">
@import '@/styles/admin.scss';

.my-component {
  @extend .admin-card;
}
</style>
```

### é¢œè‰²æ–¹æ¡ˆ

```scss
$admin-primary: #409eff;
$admin-success: #67c23a;
$admin-warning: #e6a23c;
$admin-danger: #f56c6c;
$admin-info: #909399;
```

---

## ğŸ” æƒé™æ§åˆ¶

### è·¯ç”±å®ˆå«

ç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æœ‰ç®¡ç†å‘˜æƒé™ï¼š

```typescript
// åœ¨ src/router/index.js ä¸­
{
  path: '/admin',
  meta: { requiresAuth: true, requiresAdmin: true }
}
```

### æƒé™æ£€æŸ¥

```typescript
import { useAuthStore } from '@/stores/auth'

const authStore = useAuthStore()

// æ£€æŸ¥æ˜¯å¦ä¸ºç®¡ç†å‘˜
if (authStore.isAdmin) {
  // æ‰§è¡Œç®¡ç†å‘˜æ“ä½œ
}

// æ£€æŸ¥ç‰¹å®šæƒé™
if (authStore.hasPermission('admin:users')) {
  // æ‰§è¡Œç”¨æˆ·ç®¡ç†æ“ä½œ
}
```

---

## ğŸ“± å“åº”å¼è®¾è®¡

ç®¡ç†åå°æ”¯æŒå¤šç§è®¾å¤‡ï¼š

- **æ¡Œé¢ç«¯**: æœ€ä½³ä½“éªŒï¼ˆ>1200pxï¼‰
- **å¹³æ¿ç«¯**: è‰¯å¥½æ”¯æŒï¼ˆ768px-1200pxï¼‰
- **ç§»åŠ¨ç«¯**: åŸºç¡€æ”¯æŒï¼ˆ<768pxï¼‰

---

## ğŸ› è°ƒè¯•æŠ€å·§

### å¼€å‘æ¨¡å¼

```bash
npm run dev
```

### æŸ¥çœ‹ç½‘ç»œè¯·æ±‚

æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…· â†’ Network æ ‡ç­¾

### æŸ¥çœ‹StoreçŠ¶æ€

å®‰è£… Vue DevTools æ‰©å±•ï¼Œå¯ä»¥æŸ¥çœ‹ Pinia store çš„çŠ¶æ€

---

## ğŸ“ å¾…åŠäº‹é¡¹

- [ ] æ‰¹é‡å®¡æ ¸åŠŸèƒ½
- [ ] æ—¥å¿—å¯¼å‡ºåŠŸèƒ½
- [ ] æ•°æ®ç»Ÿè®¡æŠ¥è¡¨
- [ ] å®æ—¶é€šçŸ¥åŠŸèƒ½
- [ ] æ›´å¤šå›¾è¡¨ç±»å‹
- [ ] æ·±è‰²æ¨¡å¼æ”¯æŒ

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. éµå¾ª Vue 3 Composition API è§„èŒƒ
2. ä½¿ç”¨ TypeScript ç¼–å†™ç±»å‹å®‰å…¨çš„ä»£ç 
3. ç»„ä»¶åº”è¯¥å¯å¤ç”¨å’Œå¯æµ‹è¯•
4. éµå¾ª ESLint å’Œ Prettier è§„èŒƒ
5. æäº¤ä»£ç å‰è¿è¡Œ `npm run lint`

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [å…±äº«æœåŠ¡APIæ–‡æ¡£](../api/frontend/shared/å…±äº«æœåŠ¡APIå‚è€ƒ.md)
- [å‰ç«¯é›†æˆæŒ‡å—](../api/frontend/å‰ç«¯é›†æˆæŒ‡å—.md)
- [ç»„ä»¶æ¶æ„è®¾è®¡](../architecture/ç»„ä»¶æ¶æ„è®¾è®¡.md)

---

**æœ€åæ›´æ–°**: 2025-10-21  
**ç»´æŠ¤è€…**: é’ç¾½å‰ç«¯å›¢é˜Ÿ  
**ç‰ˆæœ¬**: v1.0

